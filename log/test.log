  [1m[35m (4.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "participants"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "participants"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'participants';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "participants"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "participants"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'participants';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "participants"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "participants"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'participants';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$8h91saVsaja5EgZa55frsuOlN39hjzyDNt764bIdz0vOp5/BvEA0."], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:23:35.549659"], ["updated_at", "2024-04-05 23:23:35.549659"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$9/5FsfMUdOlRN.dvYQWWSebADbo9Qm408n9IHUr8NOyVfhXe8/8NS"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:23:35.727021"], ["updated_at", "2024-04-05 23:23:35.727021"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$hV4U1qT4CCjQ.fEz/yZU2OQAEaoXZFtmg4k4BRlj6lPkzFnUWDXNe"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:23:35.906669"], ["updated_at", "2024-04-05 23:23:35.906669"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:23:35.965725"], ["updated_at", "2024-04-05 23:23:35.965725"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:23:36 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:23:36.189169"], ["updated_at", "2024-04-05 23:23:36.189169"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 14ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 4320)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (2.7ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$COXl16alfeIFrlSoqiOwEOuNBN73o5CmmEP33B77HA8HFpdljRZ2W"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:23:36.510456"], ["updated_at", "2024-04-05 23:23:36.510456"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$nUQaKd0CLl9jBCOHPWsZieW07hlaIvjxgyI5EvmyKpjqgU5IsdPjC"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:23:36.696466"], ["updated_at", "2024-04-05 23:23:36.696466"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (6.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$p8B8gbjbOMmPRPdnz54/uOdU8qkaJN63VvTSK0jeueZdd2IOV0o9a"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:23:36.887825"], ["updated_at", "2024-04-05 23:23:36.887825"]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (4.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:23:36.909795"], ["updated_at", "2024-04-05 23:23:36.909795"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-06 02:23:36 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 84)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$P8fHlwl/nQrO88bwLHSZh.xyeDuLjQjmR03TQv8MoWHOuyiW0WxVS"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:23:37.121834"], ["updated_at", "2024-04-05 23:23:37.121834"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$lsGvWHOrq1eNIqO9IRDGd.c/ED63pj/b0e2GGOJIskKcfB3TPREq6"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:23:37.320624"], ["updated_at", "2024-04-05 23:23:37.320624"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$/hgwJsYNLmMFQib/bOcLvuEV2A0ajLdwEyztxSo59jJ3Bq6eAq9Di"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:23:37.509004"], ["updated_at", "2024-04-05 23:23:37.509004"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:23:37.510941"], ["updated_at", "2024-04-05 23:23:37.510941"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-06 02:23:37 +0300
Processing by Api::SessionController#destroy as HTML
  Parameters: {"session"=>"session"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "jwt_validation" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["jwt_validation", "kcFuGjyZydAOaZsioSchuMklaTqRefwr"], ["updated_at", "2024-04-05 23:23:37.742569"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1065)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:23:37 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 288)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$olHWgNHEY1NRc.viKNNhyugwBEnrra0DoAfVXUkdvKL.K1UKzLiHC"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:23:37.925166"], ["updated_at", "2024-04-05 23:23:37.925166"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$UbP4w0Xkf8pZ46Lffx0X1OxYR0ru1jcSjHflX9T3wXVwK1Syb67Cm"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:23:38.102148"], ["updated_at", "2024-04-05 23:23:38.102148"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$meg9q8jLy9/WH0ESIGb37.mM0UvQf7ijxv2vxrHrT6muXtXQQRug2"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:23:38.288820"], ["updated_at", "2024-04-05 23:23:38.288820"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:23:38.290702"], ["updated_at", "2024-04-05 23:23:38.290702"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:23:38 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 309)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-06 02:23:38 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$PnWF1XM/rsJLCLmksHSouuthfxQqAJF0L9q4RdB/b5HUcxfocga1C"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:23:38.653161"], ["updated_at", "2024-04-05 23:23:38.653161"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$XHastMqGItGHHwtp7IYYMOvtWjBrAa4d48ufPD64wZjY51b4weWuW"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:23:38.827512"], ["updated_at", "2024-04-05 23:23:38.827512"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$oSEig2peTRI0qt5Ut1rpceHNlw8XTFrKspzbNzuR8X0fPHil6W.JC"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:23:39.001950"], ["updated_at", "2024-04-05 23:23:39.001950"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:23:39.004100"], ["updated_at", "2024-04-05 23:23:39.004100"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-06 02:23:39 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$FPRGDvbUmYJ9g6Tr9hl2/OQmZve3e6LDi23PYMedoP4l2abYX5NIG"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:23:39.183399"], ["updated_at", "2024-04-05 23:23:39.183399"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$/Cw7spBDIgF2hTa7KrU10.kbeqPcymQAmAmAucqthh4IKDruQI0Hy"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:23:39.358511"], ["updated_at", "2024-04-05 23:23:39.358511"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$n8/HAIQGDf4y08DDUinGYOXpu8E5yvP2Zb.m5MJjzVFHEyrz1fRFS"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:23:39.536335"], ["updated_at", "2024-04-05 23:23:39.536335"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:23:39.538201"], ["updated_at", "2024-04-05 23:23:39.538201"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-06 02:23:39 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-06 02:23:40 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$QUcEvr.a4jydKhEUD8xobecwdM4coK9ycCtpRl6PIkecDYqt8PVwm"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:23:40.470366"], ["updated_at", "2024-04-05 23:23:40.470366"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$1wpJekrEIo6s8coHmUBch.RMYsn2o8fj04etI/nD6S1WfLNUNhiDC"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:23:40.649087"], ["updated_at", "2024-04-05 23:23:40.649087"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$DRCPcY698tQmpNqmp.PzMein1d4v/COj3UDiMczTLHxHUxqReNHTG"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:23:40.830982"], ["updated_at", "2024-04-05 23:23:40.830982"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:23:40.832616"], ["updated_at", "2024-04-05 23:23:40.832616"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:23:41 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 307)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-06 02:23:41 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$khopdHKq5lXnQ9gR0hN1MekeOEx.2IkNK7sTg5rXTjslaMQg4MiD6"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:23:41.209170"], ["updated_at", "2024-04-05 23:23:41.209170"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$e1h7OUvtS9KxlKdSkt6N9.o2v4sSdVA6Y6uoXjzf3DMKL1BTZ/aQG"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:23:41.393376"], ["updated_at", "2024-04-05 23:23:41.393376"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$DNJM2XVrd31YPnukGEM4ru8AEl.8yXmozgxPVBZJWS2FA.obNMxHW"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:23:41.575295"], ["updated_at", "2024-04-05 23:23:41.575295"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:23:41.577418"], ["updated_at", "2024-04-05 23:23:41.577418"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-06 02:23:41 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$BtKtb3o/8iX429R38oRFM.swEa18FFiFXWrogFs60GzPla.qUuF7u"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:23:41.760605"], ["updated_at", "2024-04-05 23:23:41.760605"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$VfU0FPMiVOi7ub888MvMWuiWA19TiXTUPco5XOYm3/P98/t7rLKre"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:23:41.944248"], ["updated_at", "2024-04-05 23:23:41.944248"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$mcnhwlqV2/8cB6GlD0mCyusQB7lGFVnUbQbdGdtJ4bEbIrgKoVoXu"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:23:42.123931"], ["updated_at", "2024-04-05 23:23:42.123931"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:23:42.125812"], ["updated_at", "2024-04-05 23:23:42.125812"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-06 02:23:42 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-06 02:23:42 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (2.0ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "participants"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "participants"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'participants';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$6L0tTXaVhSV111/GitQ6ou5kiS5OoZGqJDYNNIK4gNUwqQFjWRGW6"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:25:49.960763"], ["updated_at", "2024-04-05 23:25:49.960763"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$EDVe.VrRl0gMPjYI/X8D5.SG/.SDQ8df/r4sv1uZFDS2t65TfBJmu"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:25:50.134195"], ["updated_at", "2024-04-05 23:25:50.134195"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$4yth9mzrZKsIovx9t3Nn6uGiBvmZ9b2/RVY2vAix5wwMVBBXiY1Pm"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:25:50.315876"], ["updated_at", "2024-04-05 23:25:50.315876"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:25:50.361817"], ["updated_at", "2024-04-05 23:25:50.361817"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:25:50 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:25:50.562742"], ["updated_at", "2024-04-05 23:25:50.562742"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 13ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 4319)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$EjuOUyX8vPQ6MxxhfAq/ieFizswpHqc2BRdq4zpGdoEWP.H7q./hW"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:25:50.770680"], ["updated_at", "2024-04-05 23:25:50.770680"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$TtnqaP1p5VRDPggFgH76DeHjE.rdLg.kq0gRTzTs.y7rGMOABbfK2"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:25:50.961888"], ["updated_at", "2024-04-05 23:25:50.961888"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$bytVTT3Fuh.3MtLTRx2Yu.4TqGcAAjlG2LHY1crQnLIZvjXCOHWbW"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:25:51.144092"], ["updated_at", "2024-04-05 23:25:51.144092"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:25:51.145907"], ["updated_at", "2024-04-05 23:25:51.145907"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-06 02:25:51 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 84)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$fZtmrnlZv8qFtpefwuvvTuvSRi56X6jmvJzAFFBaUH/ukxpjHPtnS"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:25:51.330160"], ["updated_at", "2024-04-05 23:25:51.330160"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$zDpwqLQBqnJebttnzXG12uAhYHBF6H1PMzxJl/0.QQ9Y8YgTrmT/."], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:25:51.509339"], ["updated_at", "2024-04-05 23:25:51.509339"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$WTcwIBseyNjMHeYRPOfA2ecaiiu/zTAcTkahkhFyktJF72k1KDuXq"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:25:51.686756"], ["updated_at", "2024-04-05 23:25:51.686756"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:25:51.688400"], ["updated_at", "2024-04-05 23:25:51.688400"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-06 02:25:51 +0300
Processing by Api::SessionController#destroy as HTML
  Parameters: {"session"=>"session"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "jwt_validation" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["jwt_validation", "bDXugMHidVlDccWetAdtSvMEhIbaRice"], ["updated_at", "2024-04-05 23:25:51.881264"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 12ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1089)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:25:51 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 288)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$UFv4ad3T06u76zUIDnx.kuJxM6Xmpi4yU9lL2Pjbap3/nEF9D3uPq"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:25:52.069268"], ["updated_at", "2024-04-05 23:25:52.069268"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$rE5En4PsKv6XNhwwzc8BcujA26lRSD9CAlB0Wznez9WIoI.0kHfxe"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:25:52.246320"], ["updated_at", "2024-04-05 23:25:52.246320"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$Pvw6rhXyOGCb0JXR8RhGpe3AHvk1CmCBjGcAv3G70hoInNF5kPZL2"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:25:52.422528"], ["updated_at", "2024-04-05 23:25:52.422528"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:25:52.424946"], ["updated_at", "2024-04-05 23:25:52.424946"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:25:52 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 309)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-06 02:25:52 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Xofr.rLMQt4CN0icXwcoT.x28pNwTfgVlpDxB6qV/klZxikUwGugu"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:25:52.779372"], ["updated_at", "2024-04-05 23:25:52.779372"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$GTfnFMYQxWRfjRfp0bqCeeQUdTc.ysuoNgtqv9klMRgo4u9mreTU6"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:25:52.951451"], ["updated_at", "2024-04-05 23:25:52.951451"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$8MQAQGKjCaOgVuWwWdq2tutNB9WazVeJjQ4y1ZfQ0Sb5OPBSnKFbS"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:25:53.130508"], ["updated_at", "2024-04-05 23:25:53.130508"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:25:53.132817"], ["updated_at", "2024-04-05 23:25:53.132817"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-06 02:25:53 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$i.pdSCb8KxFyvJqRro855OiuxfHEasQZccNVaJEETfDBk8cOdipKi"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:25:53.315723"], ["updated_at", "2024-04-05 23:25:53.315723"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$oUeQzi9uKW9MtLei9QDlPO9UqMQ.IJH6qNMfizxh1VXA5c5JXnChi"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:25:53.490056"], ["updated_at", "2024-04-05 23:25:53.490056"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$3z41BPtBVN0gkA9RRL7CiO3gqqjc2xETTIVSpBHbkLAz11V9WBAGC"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:25:53.663335"], ["updated_at", "2024-04-05 23:25:53.663335"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:25:53.665304"], ["updated_at", "2024-04-05 23:25:53.665304"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-06 02:25:53 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-06 02:25:54 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "participants"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "participants"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'participants';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$MxVpS5keSYnFu4fyq74cse58u7o3ddE5kqmGO7Vkcx8r8rg1LLFIG"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:26:11.388496"], ["updated_at", "2024-04-05 23:26:11.388496"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$tECgn2Ijzx0nmJCUbeivrutuiXd6tbvXiVCkwJfMmCFqlGYZQFT6e"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:26:11.566559"], ["updated_at", "2024-04-05 23:26:11.566559"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$iugnsqdLYBmOECvRLHf4zub18cbJ4LHv0kS9jV25r8n3QcpaXeopu"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:26:11.746498"], ["updated_at", "2024-04-05 23:26:11.746498"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:26:11.790599"], ["updated_at", "2024-04-05 23:26:11.790599"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:26:11 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:26:11.986387"], ["updated_at", "2024-04-05 23:26:11.986387"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 23ms (Views: 10.5ms | ActiveRecord: 0.4ms | Allocations: 4319)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Tibc8h/d1lI4JEl8PqdwPeHVZ88ZCSi3BYOOdk6SZF7XpzEzQVZ3C"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:26:12.196311"], ["updated_at", "2024-04-05 23:26:12.196311"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$5ig3opNcSoxphMsK0uwNnuDE3gx69HRWjVTl3gnhr8OQCfCyCuTA2"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:26:12.387778"], ["updated_at", "2024-04-05 23:26:12.387778"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$bdqiEBWXV00IYWpO0Jl/9upfbeHJ3HCkcTiHSoaSvlsS2vqf8SRbi"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:26:12.566371"], ["updated_at", "2024-04-05 23:26:12.566371"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:26:12.568474"], ["updated_at", "2024-04-05 23:26:12.568474"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-06 02:26:12 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 84)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$TZpW8SFVjqfjkwSGq.fIhOlQK18XocIGTzMLXEcGdAmi2pfsKU1DG"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:26:12.751785"], ["updated_at", "2024-04-05 23:26:12.751785"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$QtFET3tGlma0tFbYW1UuvOdy4Jeb064ckUX/DMbJhLsoaqb5YYYCq"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:26:12.934506"], ["updated_at", "2024-04-05 23:26:12.934506"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$udrpOHOumw4t96NnInURc.YMnRPHp6yPHL41.yXE2KwILg0HRTub."], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:26:13.109601"], ["updated_at", "2024-04-05 23:26:13.109601"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:26:13.111824"], ["updated_at", "2024-04-05 23:26:13.111824"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-06 02:26:13 +0300
Processing by Api::SessionController#destroy as HTML
  Parameters: {"session"=>"session"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "jwt_validation" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["jwt_validation", "tyTKBzlZDMoGcoGozxBDRRITjEkiKbpo"], ["updated_at", "2024-04-05 23:26:13.294149"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1089)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:26:13 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 288)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$wzlX9mveB7X9eap0kcYeIOiPy9GJF/yQw2A0Csr7z379APz0fsw.q"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:26:13.476159"], ["updated_at", "2024-04-05 23:26:13.476159"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$fW8TlSe3up9qHEF75qd.ees0lg.qx2SvSceBjlVG585WxD81oPoc2"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:26:13.650610"], ["updated_at", "2024-04-05 23:26:13.650610"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$tj0/rk.5cd0dp/Fx.6FNm.t7VLyLMpaTFY0BKDqo9X4Cz2AeR2Fxa"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:26:13.827754"], ["updated_at", "2024-04-05 23:26:13.827754"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:26:13.829700"], ["updated_at", "2024-04-05 23:26:13.829700"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:26:14 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 309)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-06 02:26:14 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$8mzBXSffKIIHYDBXqWincuc2IkvWXsJp9D/rv5bgtREAWd4YxtTeq"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:26:14.194286"], ["updated_at", "2024-04-05 23:26:14.194286"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$zAhL0pQUs/lNplchhL/IxOmDCBl.YWj4OQM0YlajmVLYnfh8JYm.i"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:26:14.369202"], ["updated_at", "2024-04-05 23:26:14.369202"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$uPqYUCpT6dkldI.eXdfNQeLpy92/a/BowlevPydelxKqIqlI5nHwO"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:26:14.542124"], ["updated_at", "2024-04-05 23:26:14.542124"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:26:14.543923"], ["updated_at", "2024-04-05 23:26:14.543923"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-06 02:26:14 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$yfFI0zWzJ//99b42Ki7sWe3M4P12F/kufMolPqUAE19HrmKcmlB22"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:26:14.723375"], ["updated_at", "2024-04-05 23:26:14.723375"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$0IuRd9I4l/KTK70WvwoghO2D8Rh86uRIBBXJy29r3oo77rf.wo/my"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:26:14.898404"], ["updated_at", "2024-04-05 23:26:14.898404"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$pUEfh.8K3YqzqiFoX1Hd4O4AodLZd9BVes7iasiYT6lRDSW9GkwWy"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:26:15.073213"], ["updated_at", "2024-04-05 23:26:15.073213"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:26:15.075274"], ["updated_at", "2024-04-05 23:26:15.075274"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-06 02:26:15 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-06 02:26:15 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$/2h.IuLlmfOpMHiov9L25OmWA7w96ECWfeZoM5YY.5RrmzLjQtwTa"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:26:15.632817"], ["updated_at", "2024-04-05 23:26:15.632817"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$wHpBEE3NSe5jA5yfny42p.514ynNLApZ1EdWOXPDsbZBOHsVZ2ga6"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:26:15.806311"], ["updated_at", "2024-04-05 23:26:15.806311"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$VDREowkqTfOjGAP21EH3subCkpW3i0x72/Nce7mkLZmSimmcD2bcW"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:26:15.984831"], ["updated_at", "2024-04-05 23:26:15.984831"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:26:15.986743"], ["updated_at", "2024-04-05 23:26:15.986743"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:26:16 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 307)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-06 02:26:16 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$FYZuxoFq1DgYgwBFdyoyRe/0ZgGmzqODM3qwfXor/FG.P9YYduKSa"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:26:16.348172"], ["updated_at", "2024-04-05 23:26:16.348172"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$F/xUwUrVGn60/EkxRwQoZ.NewzZH3hY1C8DKL7bhp5dE5PuxQiZMy"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:26:16.530364"], ["updated_at", "2024-04-05 23:26:16.530364"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$mMk9.ubNxesSAvK9cx6QhOUZtFcNWMx9YEwdY3Pw3c3L2v3iaWTLm"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:26:16.705518"], ["updated_at", "2024-04-05 23:26:16.705518"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:26:16.708240"], ["updated_at", "2024-04-05 23:26:16.708240"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-06 02:26:16 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$VASNmyiGJ1R2Z4MwFxco9OdCjYayuCyM1jUjjSHFOEgUgden/rmya"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:26:16.894107"], ["updated_at", "2024-04-05 23:26:16.894107"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$KI.YhufEbkYlO3MIb936X.1Urv/UDX.HQQOu.iVKyPg8T4fpTK9Ke"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:26:17.071747"], ["updated_at", "2024-04-05 23:26:17.071747"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$wRV7kgc60GRLgu/OHynxcuFf8j/g2wBBqpmNKRim/1JffQPMyMea2"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:26:17.249759"], ["updated_at", "2024-04-05 23:26:17.249759"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:26:17.251439"], ["updated_at", "2024-04-05 23:26:17.251439"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-06 02:26:17 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-06 02:26:17 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "participants"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "participants"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'participants';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$pg/nb80G4vGgwkpKriBHnesXfkHeTSTtGKAVWe2SuFQiLdq9z4sBC"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:27:43.731581"], ["updated_at", "2024-04-05 23:27:43.731581"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$b5z3mwTdD9ZNPzRzjhWud.CWg/7eHkhvRsKevrtX9FT7JXH.rXhc6"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:27:43.908227"], ["updated_at", "2024-04-05 23:27:43.908227"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$gQBuMw6i1sxbrHUPcC0FDeRJ7ADDfT65sP7pUbaAC.puP.Wbxr6f."], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:27:44.081505"], ["updated_at", "2024-04-05 23:27:44.081505"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:27:44.120446"], ["updated_at", "2024-04-05 23:27:44.120446"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:27:44 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:27:44.316518"], ["updated_at", "2024-04-05 23:27:44.316518"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 23ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 4319)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$4WC/8zo3rjGFCpcor4nvpOe5DVmdbRfo8Nlyx7FHvK8HZU584vQXm"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:27:44.517443"], ["updated_at", "2024-04-05 23:27:44.517443"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$my7hG8dtE5nnhReyWDzN9.BR1zynGdFpmz6hBg7lUyPT4QyN9K.fS"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:27:44.713749"], ["updated_at", "2024-04-05 23:27:44.713749"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$T3OhMT219Tz3CedlHKPQJOTsYwTHWq5bSffnoNQFgBS4LqzYRrQPO"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:27:44.897498"], ["updated_at", "2024-04-05 23:27:44.897498"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:27:44.899745"], ["updated_at", "2024-04-05 23:27:44.899745"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?tutor_id=1" for 127.0.0.1 at 2024-04-06 02:27:44 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"tutor_id"=>"1"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 84)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$RPlafWmLVndrSRq.Gf0be.BvBm9zoNR16/Y.TFVU1HNC0LI9AEvMe"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:27:45.090138"], ["updated_at", "2024-04-05 23:27:45.090138"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$Zcc1/azEfl3kwYKtO0jEHuiU3DV.Xbnxfkm3ODRGQBLhXyzk72LjO"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:27:45.268690"], ["updated_at", "2024-04-05 23:27:45.268690"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$fWBHXH.64ecYG5ycYR6cpONUesDOZntIM/XwdhRQgrDMSUVr6dnGS"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:27:45.445511"], ["updated_at", "2024-04-05 23:27:45.445511"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:27:45.447722"], ["updated_at", "2024-04-05 23:27:45.447722"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-06 02:27:45 +0300
Processing by Api::SessionController#destroy as HTML
  Parameters: {"session"=>"session"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "jwt_validation" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["jwt_validation", "wiLntuVlAHbNPRwyUtEppSnUlVnOgbKH"], ["updated_at", "2024-04-05 23:27:45.632732"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1088)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:27:45 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 288)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$mykvqpzlvSnA5Wl0OQ5vBeXwX5B48zh0EKaqT27MXSUi1ou/aFyLa"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:27:45.817451"], ["updated_at", "2024-04-05 23:27:45.817451"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$cYymJvkgXbP/x.FP5kzUueD1mjr///rTyV2WcOM9SKR8fgllOTnC."], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:27:45.997311"], ["updated_at", "2024-04-05 23:27:45.997311"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$/UfvftFetoT1rqQNmL658.H7iDCZwRExYGTryKDK8dcVXnI025gb."], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:27:46.176079"], ["updated_at", "2024-04-05 23:27:46.176079"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:27:46.179876"], ["updated_at", "2024-04-05 23:27:46.179876"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:27:46 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 309)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-06 02:27:46 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$sV3ZW1nlcoHu4d7wEpWDzukkjpNsGPj.tnXv9UtsPFtr/v2tODQTu"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:27:46.540108"], ["updated_at", "2024-04-05 23:27:46.540108"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$fIq68yzMJ1vyN7WdM1mpIexX3hD2vYdor0ZOeOloIItJfGjpcfrwy"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:27:46.715166"], ["updated_at", "2024-04-05 23:27:46.715166"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$toTlbnSTjRhyMrxnxK38Pe3ja5oedyQyWiBN4V7vp53qtW/HtzgZS"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:27:46.896448"], ["updated_at", "2024-04-05 23:27:46.896448"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:27:46.899443"], ["updated_at", "2024-04-05 23:27:46.899443"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-06 02:27:46 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$qdi2dHZt5zdqLq6wJycVbetxCXa/uB3kpO6DiHLHoZE/GbRbPuv56"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:27:47.079938"], ["updated_at", "2024-04-05 23:27:47.079938"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$usNzXAovyL/FFjbfp.H3mO1DrdU8aZPbphGnHQUgaKFLdDR5AoN/."], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:27:47.261104"], ["updated_at", "2024-04-05 23:27:47.261104"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$wmvbQzm8qTZookJ78ftEPeyiQWCl3la1SQVkv1zE7XCMoyUvtGVgu"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:27:47.436489"], ["updated_at", "2024-04-05 23:27:47.436489"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:27:47.438559"], ["updated_at", "2024-04-05 23:27:47.438559"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-06 02:27:47 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-06 02:27:47 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$1F4MovXILTcGJjyZn8q7m.17GFm.ib3b5sSqWvKtCFNIqITC8sC4K"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:27:47.991600"], ["updated_at", "2024-04-05 23:27:47.991600"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$wFWnxnOFsyFqodH9yzZKM.iq4t8N98GM7K5ZFvqWfukOEkJiPRMT."], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:27:48.165117"], ["updated_at", "2024-04-05 23:27:48.165117"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$WGFpS2Ti46M/.gYhjgpw6eCZZLjm6Ehg2pk7txMJwQu1hjdxM39py"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:27:48.346846"], ["updated_at", "2024-04-05 23:27:48.346846"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:27:48.348769"], ["updated_at", "2024-04-05 23:27:48.348769"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:27:48 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 307)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-06 02:27:48 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$PtLBf1jmMPsIXuBtG2Evdu6r9xtUmKcg/bLuvcCy.iNEJkbpnzD4q"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:27:48.715202"], ["updated_at", "2024-04-05 23:27:48.715202"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$f39owy4guNP7dSYB6O6iaeuQGF3i2UiLYDnocxlhIWl/PNrwq8CcO"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:27:48.890814"], ["updated_at", "2024-04-05 23:27:48.890814"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$1QJDWsoDsd76zCYIiNs4h.QWn27x0.5ynApe30gi3O9yr3eus8Wb6"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:27:49.064574"], ["updated_at", "2024-04-05 23:27:49.064574"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:27:49.066745"], ["updated_at", "2024-04-05 23:27:49.066745"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-06 02:27:49 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$OrE2y0SxCktDF6Uvb9ooC.KTfaTn///sZtgPmdUA9L8q8ti5h9wb."], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:27:49.248217"], ["updated_at", "2024-04-05 23:27:49.248217"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$CU1JkRLo.22ASEWPlEBGYuKZ73MaPrMAxF7GXcxgCI0rKXDSYbEBa"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:27:49.426336"], ["updated_at", "2024-04-05 23:27:49.426336"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$mOUNFSZqNp5S4VDzwOQxd.pE9guZ1Sszt2VpRT9cSxgsxxpiuJnyq"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:27:49.610271"], ["updated_at", "2024-04-05 23:27:49.610271"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:27:49.612422"], ["updated_at", "2024-04-05 23:27:49.612422"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-06 02:27:49 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-06 02:27:49 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "participants"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "participants"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'participants';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Ld1IruaQ.rIvRPOeUyqnGuZzUdYRo5NezyK2bc.J15JbID08lx4g."], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:29:21.578164"], ["updated_at", "2024-04-05 23:29:21.578164"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$kquvcxHlpWibv9QQzcyhxuN9vSrcCy0/5IHPcIcmeGb1/iSd8ZG1e"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:29:21.759888"], ["updated_at", "2024-04-05 23:29:21.759888"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$xHWXjTKcw8BDw3s8BHNnhOWd4H.CuqgAWFYXIysHbcTZBuKq8kBKm"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:29:21.934158"], ["updated_at", "2024-04-05 23:29:21.934158"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:29:21.970065"], ["updated_at", "2024-04-05 23:29:21.970065"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:29:22 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:29:22.164841"], ["updated_at", "2024-04-05 23:29:22.164841"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 14ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 4319)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$jv.9ObbZwnLH536CsI4z2uSOesyi1xjk4t9afgomrI4j6rRTW6ek2"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:29:22.348235"], ["updated_at", "2024-04-05 23:29:22.348235"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$xlCOwhJCyMkWwnWHhVDI5eAW7GKeWAKRIraQEXWxjYkD3lLl2X./a"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:29:22.541900"], ["updated_at", "2024-04-05 23:29:22.541900"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$St.zJQr8yO7LUw/jEUIOauQ8JCnRYw1JKO6qNxfSEmBmEOd28bsGm"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:29:22.726256"], ["updated_at", "2024-04-05 23:29:22.726256"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:29:22.728057"], ["updated_at", "2024-04-05 23:29:22.728057"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?id=1" for 127.0.0.1 at 2024-04-06 02:29:22 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"id"=>"1"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 84)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$HvuORp4RSjdZ980pAUd1KurkE9baaXvLYb1RS/FYX2Z/RPF2ZaS9S"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:29:22.922994"], ["updated_at", "2024-04-05 23:29:22.922994"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$sT/QPh52ioeoO8/7sIdAGOKQHnRU1vX4eoBsQ9u7rAQs5fXi./Gty"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:29:23.100449"], ["updated_at", "2024-04-05 23:29:23.100449"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$WiYPbPSjLNtJH7uu0nLHauA2nj62dNU/sUym4iRo5cJ0i6aMoW.Gm"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:29:23.274261"], ["updated_at", "2024-04-05 23:29:23.274261"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:29:23.276034"], ["updated_at", "2024-04-05 23:29:23.276034"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-06 02:29:23 +0300
Processing by Api::SessionController#destroy as HTML
  Parameters: {"session"=>"session"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "jwt_validation" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["jwt_validation", "NfdBUeQbtGcMTPvdPVDKcqJmNjijKkcN"], ["updated_at", "2024-04-05 23:29:23.456551"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1064)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:29:23 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 288)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Mbh13yQ6OkVxRPyZxkkH4OlzQlJ/lSRbL8Cw7A4cuFcAfyd/leEQ2"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:29:23.638082"], ["updated_at", "2024-04-05 23:29:23.638082"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$zHzT7fgpjoVgauJW8VzqseGd0xlkCQbEySWHPn3shcmlPtQTNMw6S"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:29:23.819297"], ["updated_at", "2024-04-05 23:29:23.819297"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$Cc59SnSWjN7qx0B1Z/K8Ye9IzQvWyHXuu799e5bnRRhQXyVyX1Z6y"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:29:24.001541"], ["updated_at", "2024-04-05 23:29:24.001541"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:29:24.003784"], ["updated_at", "2024-04-05 23:29:24.003784"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:29:24 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms | Allocations: 309)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-06 02:29:24 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$kBOm2oWKOpPrnaUgexkkj.rQ5i4Q58TogLx0VUbm5x9YFfKoWnfqK"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:29:24.361635"], ["updated_at", "2024-04-05 23:29:24.361635"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$a5EmKPqpEeEM4bvFjcNC0.W71W1LqGjob9SnPt5eVUZrltb07lYaW"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:29:24.535914"], ["updated_at", "2024-04-05 23:29:24.535914"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$8EKZVcFmTqwSytBx6b4Vi.ZfTmtiVuaLCDdtYZkGaYYKLX4vG44Wi"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:29:24.708420"], ["updated_at", "2024-04-05 23:29:24.708420"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:29:24.710545"], ["updated_at", "2024-04-05 23:29:24.710545"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-06 02:29:24 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$FsMnRcgt0dO20iT.XDqz1e4T5G/K27bSZdTWHU/FugYK2R.ZjiRfG"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:29:24.889629"], ["updated_at", "2024-04-05 23:29:24.889629"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$tExYOaxAxflqpeWQzl0oCOpL9lnKzK6ISdajhRpIZr6k5s5SfY6T6"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:29:25.068273"], ["updated_at", "2024-04-05 23:29:25.068273"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$v/fW5qBlwKbHFjo9J3Vmj.wyJQilzGSP.ibKKtYajitNueKafv0Da"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:29:25.242531"], ["updated_at", "2024-04-05 23:29:25.242531"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:29:25.244433"], ["updated_at", "2024-04-05 23:29:25.244433"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-06 02:29:25 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-06 02:29:25 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$/j.1fA.YHkHbAaHQ5pHvMePIEhhhTnHF19ZGa4A/ndViie7EvtfeS"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:29:25.765433"], ["updated_at", "2024-04-05 23:29:25.765433"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$R19ly/qYfbo/.J0mjTwkL.oL7BB8aFPqV3gCt.UzdrTxMb4L0CExe"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:29:25.942633"], ["updated_at", "2024-04-05 23:29:25.942633"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$DQxMzci2Ydye81IJhlRoceKnBhzCH7BLjJhDwqspDEFvtfa0DrdEa"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:29:26.122334"], ["updated_at", "2024-04-05 23:29:26.122334"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:29:26.124060"], ["updated_at", "2024-04-05 23:29:26.124060"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:29:26 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 307)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-06 02:29:26 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$L94qOGuRi8Ev25N9aPzwA.qO9Fcu/qksyssMFrvlKV2l8X0j8Oipm"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:29:26.484191"], ["updated_at", "2024-04-05 23:29:26.484191"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$shQLfcpyA8V69lahnf.gpury49/ISxtcjaTpHtlHNKOLnXS5PTy4W"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:29:26.660177"], ["updated_at", "2024-04-05 23:29:26.660177"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$FY.9VFyxCmSmQXzVxh0C9uoRNGQUmoRHUyE5vq2JTeSF6Ek1l39K2"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:29:26.834400"], ["updated_at", "2024-04-05 23:29:26.834400"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:29:26.836557"], ["updated_at", "2024-04-05 23:29:26.836557"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-06 02:29:26 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$B0x5N08bhi0XFzpZdtdGquQaqZMTbmn09gKPl9lvQ8I04v0ko3zrG"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:29:27.019954"], ["updated_at", "2024-04-05 23:29:27.019954"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$o0iOwO8iuItEqe6hXWiXO.eQR.PGnLDadJETldASOsyyGEHv3H/xO"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:29:27.197229"], ["updated_at", "2024-04-05 23:29:27.197229"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$kGHkEeu8Jr12F.ui6CW1puccpRvxvpRk3TFtavu3aat6KqGJkDoxq"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:29:27.384024"], ["updated_at", "2024-04-05 23:29:27.384024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:29:27.386078"], ["updated_at", "2024-04-05 23:29:27.386078"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-06 02:29:27 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-06 02:29:27 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "participants"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "participants"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'participants';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$6yWpVl2nJoHsOi2Y/Tz8guAB23usft.ltHQddzDES8olNxpdSmrkS"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:31:23.453667"], ["updated_at", "2024-04-05 23:31:23.453667"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$nCd98HsYdZhJW2Rh61zhBun0LUQLdpxtsL.j5SCZyvlagHYHFP1jK"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:31:23.629508"], ["updated_at", "2024-04-05 23:31:23.629508"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$zlLqZbqelLYrpEjQmoFbbeArt.IvgKpBDHgKzh.1Gnyd097QSEEXO"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:31:23.802987"], ["updated_at", "2024-04-05 23:31:23.802987"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:31:23.841020"], ["updated_at", "2024-04-05 23:31:23.841020"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:31:24 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:31:24.036591"], ["updated_at", "2024-04-05 23:31:24.036591"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 17ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 4319)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$wmg83qHtKGdacpsBm/YQXepaGY7qZ1YfBP8FJpNRh85qIxULXRxKu"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:31:24.220108"], ["updated_at", "2024-04-05 23:31:24.220108"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$zBbm06vy0A7EXjVgnTyGmusKWkgwoHB7.Os1/rprn6LVZfQJnrufW"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:31:24.416364"], ["updated_at", "2024-04-05 23:31:24.416364"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$qvQ9vzO/a0U3KMUT/mffZOY.BquqVMeMqcUWghfXwILBFHFXVXT0e"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:31:24.608479"], ["updated_at", "2024-04-05 23:31:24.608479"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:31:24.610518"], ["updated_at", "2024-04-05 23:31:24.610518"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?id=1" for 127.0.0.1 at 2024-04-06 02:31:24 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"id"=>"1"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 84)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$NPcGliIQcsdS66xSt1/Mi./H5fEhuvAbl6ylr..ZhB/W7zGqRWbJi"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:31:24.804729"], ["updated_at", "2024-04-05 23:31:24.804729"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$rww/ea2HK602FLLZOFj0hucCkUUlR9CZadF2/TeMLxhpOMPzYszD2"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:31:24.980832"], ["updated_at", "2024-04-05 23:31:24.980832"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$ikHboV/YMdV9xwSXfi3ere4mq2ApCGrWg4WpgEVz4Wtw5k67lNNFm"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:31:25.154287"], ["updated_at", "2024-04-05 23:31:25.154287"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:31:25.156070"], ["updated_at", "2024-04-05 23:31:25.156070"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-06 02:31:25 +0300
Processing by Api::SessionController#destroy as HTML
  Parameters: {"session"=>"session"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "jwt_validation" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["jwt_validation", "QRDRVuFOfnnmfCoDIBTtjClucORGrTBz"], ["updated_at", "2024-04-05 23:31:25.338424"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1088)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:31:25 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 288)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Cno1Qg.z/zLRKmxhQ6qXyu1C5xPJPawVWYCp/IKHrChfE3lepccjC"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:31:25.521506"], ["updated_at", "2024-04-05 23:31:25.521506"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$1H29TDjuK4d1wUnWCHLMYu6Zw2rOI/gwAK2KFLQ7csRYmSmt8mhsu"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:31:25.698887"], ["updated_at", "2024-04-05 23:31:25.698887"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$sThgNhlloFbmxYmul.xAIeK03lXfzgQCoIMIvW.8/gu1/x.uB0lLu"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:31:25.879091"], ["updated_at", "2024-04-05 23:31:25.879091"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:31:25.880955"], ["updated_at", "2024-04-05 23:31:25.880955"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:31:26 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 309)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-06 02:31:26 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$si0ZfDpGEgHUM34NlSZs6epNJi0b6eoPHkpirYxOIo18UZehK2YKy"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:31:26.239387"], ["updated_at", "2024-04-05 23:31:26.239387"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$218a56tsr7d5CjVnlCpHT.c/2RQqu7rSPIrMNQ4CRmzVHQZdf38/m"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:31:26.414034"], ["updated_at", "2024-04-05 23:31:26.414034"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$hipK94j42IbUJTYWi20l5.mzVE7kyXioJNlBXCJliiU1JQvTEgU7a"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:31:26.591730"], ["updated_at", "2024-04-05 23:31:26.591730"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:31:26.593930"], ["updated_at", "2024-04-05 23:31:26.593930"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-06 02:31:26 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$v.UZeDEgtTPCWRw9RbjY/unUjr8YmKaba8Mw0iM//XSEsZnxte6MC"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:31:26.783280"], ["updated_at", "2024-04-05 23:31:26.783280"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$PLSRRKNUfYX15TKRBf/NAeH6IJQGvUzuLa9dO5IiKJSxImrlzP2w6"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:31:26.967328"], ["updated_at", "2024-04-05 23:31:26.967328"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$9S0QBEvlzCd784xqIxOjHeXht9s.OgPt1/CATeCjEEL0ayKICBWYy"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:31:27.147623"], ["updated_at", "2024-04-05 23:31:27.147623"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:31:27.149362"], ["updated_at", "2024-04-05 23:31:27.149362"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-06 02:31:27 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-06 02:31:27 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$gdtso6es3TVHDhzYbeBr5.ER7.AU44z3V3eDNmXKeV7gpM8qD5b3y"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:31:27.666298"], ["updated_at", "2024-04-05 23:31:27.666298"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$ITxkyDR18xsOM.C3h6o5b.BmNKVgJXrusHqVo92eiy8HIR3yaeCJO"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:31:27.850252"], ["updated_at", "2024-04-05 23:31:27.850252"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$aN4UKuNcobolV0F7Livme.SG.pNyeXcvp0z565scFINXlNR4Nymdi"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:31:28.026711"], ["updated_at", "2024-04-05 23:31:28.026711"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:31:28.028584"], ["updated_at", "2024-04-05 23:31:28.028584"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:31:28 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 307)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-06 02:31:28 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$gbpNCjt1kTIAcMlH6YzluuT36VhmPdDEr/A1kkzMP7m6zlKKVwiju"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:31:28.391432"], ["updated_at", "2024-04-05 23:31:28.391432"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$88eBq0vXBwGMglvba8Eafu/0vzycHP3ywgftyxuSDktqaOu.ngY1q"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:31:28.563728"], ["updated_at", "2024-04-05 23:31:28.563728"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$Ex99qoD5OnoSTlPJyRxV0upkSPkPPg1OstwZ/MIfs.mae2Jr/LRF2"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:31:28.737926"], ["updated_at", "2024-04-05 23:31:28.737926"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:31:28.739798"], ["updated_at", "2024-04-05 23:31:28.739798"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-06 02:31:28 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$mz52YvLwCira4YNPYxHPQuHWFZTUXqvU7nqJ.vOmVjXyWWZAOfNNy"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:31:28.917601"], ["updated_at", "2024-04-05 23:31:28.917601"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$k5ToUMz22ymzr4vO5TELwedsOeqiltycmTkAu4P5FYZTAoWMHgTJ6"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:31:29.091746"], ["updated_at", "2024-04-05 23:31:29.091746"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$BVEvnMHSldZAgA3TwR/PkeoVECxfLuIeZLroCV6RY8a2Zp1m.RQPG"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:31:29.275194"], ["updated_at", "2024-04-05 23:31:29.275194"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:31:29.277392"], ["updated_at", "2024-04-05 23:31:29.277392"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-06 02:31:29 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-06 02:31:29 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "participants"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "participants"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'participants';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$HhZkVJRN71Oyejw6TnEAiubEzejJP2B6TX8wWiz89xaGLT.U7iv16"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:33:28.278289"], ["updated_at", "2024-04-05 23:33:28.278289"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$l5Qo3PluFr/oq0hVAqRvTOE8Mdrfn8Bjfn8uvIPaBEww5kUSZXF6."], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:33:28.452641"], ["updated_at", "2024-04-05 23:33:28.452641"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$YROz5iflU.VuJ7J2D4ODlOlR1L9tnreFthXHdLBGE9dyAKimqqTDq"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:33:28.625925"], ["updated_at", "2024-04-05 23:33:28.625925"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:33:28.663575"], ["updated_at", "2024-04-05 23:33:28.663575"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:33:28 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:33:28.859864"], ["updated_at", "2024-04-05 23:33:28.859864"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 16ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 4320)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$woXxLsYH/2/xg6y3pSoGM.1Z4vOuvvAouQc3OzD38zdJqnW33H4EK"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:33:29.048788"], ["updated_at", "2024-04-05 23:33:29.048788"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$dZ4HCoM6YYNrFncYBmB7Neq4HVGT.P6ZPPfwZDZD0bDLjrhmbMISi"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:33:29.239563"], ["updated_at", "2024-04-05 23:33:29.239563"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$3rk2FP8qV5uVkFc2C2cPN.3GGoB9nWo55eOwXyCd5q9D4dMihUFAK"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:33:29.416779"], ["updated_at", "2024-04-05 23:33:29.416779"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:33:29.418594"], ["updated_at", "2024-04-05 23:33:29.418594"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?id=1" for 127.0.0.1 at 2024-04-06 02:33:29 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"id"=>"1", "course"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" LIMIT ? OFFSET ?[0m  [["LIMIT", 50], ["OFFSET", 0]]
Completed 200 OK in 2ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 684)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$b4Yqf4L0PfvIxixt23rl8eH4tZokNyjwsfG2et1ryyObDFEtzewX."], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:33:29.807330"], ["updated_at", "2024-04-05 23:33:29.807330"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (2.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$bUtgO1k9JiU6lm0Yirvx9.ksWSq8JkkkNo18yr1OnqQjvUyhJmfbO"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:33:29.986323"], ["updated_at", "2024-04-05 23:33:29.986323"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (1.9ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$TZPgifMd/woZRa1Wvy1EUuY5CADtbXtqXvK8gah9rMKfuWLg40cNK"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:33:30.174249"], ["updated_at", "2024-04-05 23:33:30.174249"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:33:30.179113"], ["updated_at", "2024-04-05 23:33:30.179113"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-06 02:33:30 +0300
Processing by Api::SessionController#destroy as HTML
  Parameters: {"session"=>"session"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "jwt_validation" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["jwt_validation", "PmSHkiCFJxRpEUZpFQToELLhmPnmIoLK"], ["updated_at", "2024-04-05 23:33:30.366050"], ["id", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 1071)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:33:30 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 305)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$nS4gEUxWeciNJFx2DKe80e2t1uuZUFyKkd6411hETc3.HfjOeYKM."], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:33:30.548799"], ["updated_at", "2024-04-05 23:33:30.548799"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$ntKg1U6UtN2STPaS1dzuPugVTzue9PvFHtmyYTfKkaoh3QGwwkfPO"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:33:30.727643"], ["updated_at", "2024-04-05 23:33:30.727643"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$poMXFvTD4nHEWwXG6dtKCOUfraCFzhMOpeqyiZAlPQ8sgE4AYbLiC"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:33:30.903287"], ["updated_at", "2024-04-05 23:33:30.903287"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:33:30.905205"], ["updated_at", "2024-04-05 23:33:30.905205"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:33:31 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 309)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-06 02:33:31 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 59)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$g7nh2NpWiye92ZOLe0.73.kupmHs8vHWhS6WG4XO5tPw9YWptKX06"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:33:31.271164"], ["updated_at", "2024-04-05 23:33:31.271164"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$pWxiw6pEQdJYkWaO1SXNrOn810sKIxHKgCQYyyI9TJ/hRizbBdSdS"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:33:31.447786"], ["updated_at", "2024-04-05 23:33:31.447786"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$x.EspOg5d2VJs7/vNgA0guu14JZFnSqBJm923x9eWEpD.i9RAaTLC"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:33:31.622797"], ["updated_at", "2024-04-05 23:33:31.622797"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:33:31.625513"], ["updated_at", "2024-04-05 23:33:31.625513"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-06 02:33:31 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$q1q4f2mUyOSTk.kQ4wBop.LROVNa5ZIzEOqFoBn2rTpfjNuGDhX/K"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:33:31.809364"], ["updated_at", "2024-04-05 23:33:31.809364"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$zltATgsR.ZZDWyHH1cIBzetpwdtAiGzBvMkoLtygeTwehm5HwWd.G"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:33:31.986757"], ["updated_at", "2024-04-05 23:33:31.986757"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$w4mqgg2k9hccPyaRqPBH3esjxoi6CV.zFCSuGDBukiDw5X8gkPlvW"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:33:32.164151"], ["updated_at", "2024-04-05 23:33:32.164151"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:33:32.166017"], ["updated_at", "2024-04-05 23:33:32.166017"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-06 02:33:32 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-06 02:33:32 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$0QzIC3GEX8G.Fu5tgWx4luoICYaIJTiZEMW4D6XVUfAMIPQ4sa6Z2"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:33:32.688637"], ["updated_at", "2024-04-05 23:33:32.688637"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$XvxhKwC2KiTLdsb9Ud5V5O7HqfI4NNbHeCwWVb.MJSdzIvttlEAPq"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:33:32.862902"], ["updated_at", "2024-04-05 23:33:32.862902"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$xsPIx8FdUQxamRoiRwWNN.iLfmU9F4hvSWN2l8BTjyttkNvEoZvhm"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:33:33.039874"], ["updated_at", "2024-04-05 23:33:33.039874"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:33:33.042645"], ["updated_at", "2024-04-05 23:33:33.042645"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:33:33 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 307)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-06 02:33:33 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$ykgNxZ474l9uFzNqCKUKWe19pF.5MkacZ40.9LC70GteftLsFM4Fy"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:33:33.406089"], ["updated_at", "2024-04-05 23:33:33.406089"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$Usu9PLhbeyYbs6WZgFBSnO9YVV.r9hRb2NI7RvakUXXnbFJ0R6pJG"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:33:33.589022"], ["updated_at", "2024-04-05 23:33:33.589022"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$llckGgZpsqL9Xq1DN2K6oehk75faLFsOs3Mrazg0zS5zpunk3oxri"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:33:33.769735"], ["updated_at", "2024-04-05 23:33:33.769735"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:33:33.771432"], ["updated_at", "2024-04-05 23:33:33.771432"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-06 02:33:33 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$L8OgLzhrkzaSm1vl7cc6juWn0byr9MPFzgAvEGB/pUnWnsPlfFkvW"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:33:33.957387"], ["updated_at", "2024-04-05 23:33:33.957387"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$DSHrxwBfgYt4UwLacRUicudTIhUbIaKOvl3jrtK9VNkLpaJyt8Pp6"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:33:34.137247"], ["updated_at", "2024-04-05 23:33:34.137247"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$8UJex1geYgOAwlS3PIepIuiImakEHk06yJk1HYxDlRjjmGGU95yE6"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:33:34.322713"], ["updated_at", "2024-04-05 23:33:34.322713"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:33:34.324902"], ["updated_at", "2024-04-05 23:33:34.324902"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-06 02:33:34 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-06 02:33:34 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "participants"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "participants"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'participants';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$gCN2SgYI2qJJh97U0ToCWeNHboMgP1doFvwQMdSDxlz7OPc...2VS"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:34:52.941062"], ["updated_at", "2024-04-05 23:34:52.941062"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$XdrSw3lf/ZdfOPhw7cmFm.ATjAaHyJjyO4wj9RTz4SfbETbQYy.ry"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:34:53.114089"], ["updated_at", "2024-04-05 23:34:53.114089"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$Ys5fGAc03j3HFt7XJZ1GBulJFo1kftUVzU15FD7yr/Wrirjif3Fkq"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:34:53.289048"], ["updated_at", "2024-04-05 23:34:53.289048"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:34:53.327083"], ["updated_at", "2024-04-05 23:34:53.327083"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:34:53 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:34:53.518037"], ["updated_at", "2024-04-05 23:34:53.518037"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 13ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 4319)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$JOahqvq2SCffRJdypuXgE.IYJ97xegcXZla3ukBHEW0wCU0qUGJay"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:34:53.701715"], ["updated_at", "2024-04-05 23:34:53.701715"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$MQx3LZLp9VAHt/ysIicQmOeATbtVDYp5r8kHz4qa6n3zhIrZpjgLq"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:34:53.900857"], ["updated_at", "2024-04-05 23:34:53.900857"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$2qXP5yRLbUH4xsXjSpJEresFNa4hir1iHRf.XQ6gKCj2mwJByB.a."], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:34:54.082649"], ["updated_at", "2024-04-05 23:34:54.082649"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:34:54.084560"], ["updated_at", "2024-04-05 23:34:54.084560"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?id=1" for 127.0.0.1 at 2024-04-06 02:34:54 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"id"=>"1", "course"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" LIMIT ? OFFSET ?[0m  [["LIMIT", 50], ["OFFSET", 0]]
Completed 200 OK in 2ms (Views: 0.8ms | ActiveRecord: 0.1ms | Allocations: 684)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$tj3spTdAZYbqTO3YwIwir.Zb3zPHiKv.hjdhLscOkJ0IDkkWh/vRi"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:34:54.457207"], ["updated_at", "2024-04-05 23:34:54.457207"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$c5HoSxSaKWgq/fPhxbsuDOtpBCkp.09Lz3TpEiLVCpXCdrWszj7Ba"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:34:54.629911"], ["updated_at", "2024-04-05 23:34:54.629911"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$1INdrbcpnuc9YbpSBEjAXOw5XoFDckMbf/UBMZxd15tXZX9b//1CG"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:34:54.812884"], ["updated_at", "2024-04-05 23:34:54.812884"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:34:54.814973"], ["updated_at", "2024-04-05 23:34:54.814973"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-06 02:34:54 +0300
Processing by Api::SessionController#destroy as HTML
  Parameters: {"session"=>"session"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "jwt_validation" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["jwt_validation", "DLnAhHYoYNkgZyZqGRiUZiBlxTbnDRhY"], ["updated_at", "2024-04-05 23:34:55.002560"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 1071)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:34:55 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 305)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$9tWKlZJbs25oTG03NJTnZeSc2RLcTZ9qqtjLUXwuKxTgHd1MP6Wci"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:34:55.197108"], ["updated_at", "2024-04-05 23:34:55.197108"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$z7U8UhOzX3zUcHyB8NELxOFzl8dH.R3vrcNmFD35RJjhTGoDBzeZy"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:34:55.374409"], ["updated_at", "2024-04-05 23:34:55.374409"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$j2ynbTcxOxLQp/kzhk/7nujrSm2jAnbhrcFThj9KgY/JpcQ.HHCPy"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:34:55.550301"], ["updated_at", "2024-04-05 23:34:55.550301"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:34:55.552032"], ["updated_at", "2024-04-05 23:34:55.552032"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:34:55 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 309)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-06 02:34:55 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 59)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$8ZEfZ6kHSeVmDw07GKdU8u0c51cF/Zmf2MJFSwpMqaect1aPD8LS2"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:34:55.909517"], ["updated_at", "2024-04-05 23:34:55.909517"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$z2x2KUMTAxJJ3qVZ5rQRhO17Ii8KIjPqgwWN4FAFP3CGeF80gkx8G"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:34:56.085978"], ["updated_at", "2024-04-05 23:34:56.085978"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$sphj7i5t3n.hcszw4n2DL.jBazxqiJ1tuN.ya66aiJWPAq4yIPPmy"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:34:56.272050"], ["updated_at", "2024-04-05 23:34:56.272050"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:34:56.274521"], ["updated_at", "2024-04-05 23:34:56.274521"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-06 02:34:56 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$4feM2P2tgnTo4.uZ75BQbO6lsO6Vtgwj5/5bH8NCuooqo3agaJq/u"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:34:56.455600"], ["updated_at", "2024-04-05 23:34:56.455600"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$r7yX6dQj4wLJ2.jS7iJW.e.lXlrbHWvY74fdUnbDPcdJOgj3zdT0K"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:34:56.632552"], ["updated_at", "2024-04-05 23:34:56.632552"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$U/wEZL71sgYpN.yN1COBNeQLhu2xaZkuhX0/BWLrtaU6RN6R/zB1a"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:34:56.807915"], ["updated_at", "2024-04-05 23:34:56.807915"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:34:56.809613"], ["updated_at", "2024-04-05 23:34:56.809613"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-06 02:34:56 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-06 02:34:57 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$TONJY5GaaqnRMtf4p2P7D./LPlYqliLihGSnYWQstCh1MBUJtw89C"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:34:57.357881"], ["updated_at", "2024-04-05 23:34:57.357881"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$ugutHx3VpBTBofmCTjjxjuEW6wbFZjaGOu6lVaigPEu./h5bnLADS"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:34:57.535723"], ["updated_at", "2024-04-05 23:34:57.535723"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$hVYzqhzMVsVEBZEUpNW83.HGm5vK.13Vxs/ZRk0Qy6oam.E3wI2XK"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:34:57.708731"], ["updated_at", "2024-04-05 23:34:57.708731"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:34:57.710942"], ["updated_at", "2024-04-05 23:34:57.710942"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:34:57 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 307)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-06 02:34:57 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$2hKytjoC44TexKOePaNcA.vVqh06juIu5ZNB7KrqkY0BWmD1xEzOO"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:34:58.062028"], ["updated_at", "2024-04-05 23:34:58.062028"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$wDkKOeCvqW4FnoKICUV5L.6Jrlr/zo/v4NlBtZdpWrCpTLzTvt0be"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:34:58.236829"], ["updated_at", "2024-04-05 23:34:58.236829"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$oSAxKf2Bv84cL16Od5QJTu.gee9Kch3IE7QcpSwgQzM1aHRYsvoea"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:34:58.411986"], ["updated_at", "2024-04-05 23:34:58.411986"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:34:58.413791"], ["updated_at", "2024-04-05 23:34:58.413791"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-06 02:34:58 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$vNMleaXLg0OsLSNRzPX7qujDCoCBl4CIPla5QD9/ERCgEH8rGDcoW"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:34:58.606485"], ["updated_at", "2024-04-05 23:34:58.606485"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$a2XrgcxgUDgCntb0o18luOpq8t.4CJP9CqFRHnqQQjwUoqpIlfpZa"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:34:58.779206"], ["updated_at", "2024-04-05 23:34:58.779206"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$v6kAIFweTFSKOJH5qyNm4uQb1b3xLtpC4uYYCiUqwONyWem0wmFL2"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:34:58.959582"], ["updated_at", "2024-04-05 23:34:58.959582"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:34:58.961384"], ["updated_at", "2024-04-05 23:34:58.961384"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-06 02:34:59 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-06 02:34:59 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "participants"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "participants"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'participants';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$F.R09Uvi5rc1WANtSQES9Ogm7kL5VRmp1uL2u6Z3Nb9aR2K5wQv4O"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:35:42.193775"], ["updated_at", "2024-04-05 23:35:42.193775"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$EYKkvS9EXs0BarFrTFSXYebNnz5aXLVlkRW0q2hEyVclNSeqYzf12"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:35:42.373015"], ["updated_at", "2024-04-05 23:35:42.373015"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$eJOawOni4BUkjWs9oa48yeHOHHkM80C7e8fI7xjwozrZ.1IFetm46"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:35:42.548281"], ["updated_at", "2024-04-05 23:35:42.548281"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:35:42.585833"], ["updated_at", "2024-04-05 23:35:42.585833"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:35:42 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:35:42.789068"], ["updated_at", "2024-04-05 23:35:42.789068"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 15ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 4319)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$DWlu0uwqZvfBh4NavXqhVOA/Yapp86A/IhZLm7RVJIowe/sd0V3te"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:35:42.979450"], ["updated_at", "2024-04-05 23:35:42.979450"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$tZdOEEQReI.Lp.NA4NfIS.JMDoWry1QaTut8v3ow9.tgXrDQwaG3C"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:35:43.153666"], ["updated_at", "2024-04-05 23:35:43.153666"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$ACA11Pct1TdpKqkPSB1h3.9e0DyVLcFDGEF09RhwDlv/YNUWqbExe"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:35:43.326998"], ["updated_at", "2024-04-05 23:35:43.326998"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:35:43.328955"], ["updated_at", "2024-04-05 23:35:43.328955"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?id=1" for 127.0.0.1 at 2024-04-06 02:35:43 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"id"=>"1", "course"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" LIMIT ? OFFSET ?[0m  [["LIMIT", 50], ["OFFSET", 0]]
Completed 200 OK in 2ms (Views: 0.7ms | ActiveRecord: 0.1ms | Allocations: 684)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$THAtDjQ052VPMEyARccyUOl1UOEJf520Af2GJ4RhYkL9J.JuLsKYu"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:35:43.695802"], ["updated_at", "2024-04-05 23:35:43.695802"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$QojwHB6ZjshY5rKXGdV7oOhgkzsaokWHnOaQlb1q9hh.lc3irqsGi"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:35:43.875089"], ["updated_at", "2024-04-05 23:35:43.875089"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$AYZxbfDJMiFnLqqCshsTLOTQ78rmQmVj.61kLTnX6FCw/LfW7XV86"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:35:44.085158"], ["updated_at", "2024-04-05 23:35:44.085158"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:35:44.087474"], ["updated_at", "2024-04-05 23:35:44.087474"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-06 02:35:44 +0300
Processing by Api::SessionController#destroy as HTML
  Parameters: {"session"=>"session"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "jwt_validation" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["jwt_validation", "XsDtuNLmEiQBlceSINLySzVmmYLplFGh"], ["updated_at", "2024-04-05 23:35:44.273988"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1071)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:35:44 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 305)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$NVDy5P3SswntzBiHzMk1Ue8/TjnOuJK0/iUOx5rbL0ssjRlp4.cYC"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:35:44.458112"], ["updated_at", "2024-04-05 23:35:44.458112"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$NaOkca0Fh3vYflST4OACBOwEcU2PA2oU0Kia5ar9AHqMxQOcb8FwS"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:35:44.635165"], ["updated_at", "2024-04-05 23:35:44.635165"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$qmUyroSb5wv9nTNy2srz/.zBrLhn1MBBh9V5B4Ce5Y9xB.V1S/6pC"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:35:44.808688"], ["updated_at", "2024-04-05 23:35:44.808688"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:35:44.810788"], ["updated_at", "2024-04-05 23:35:44.810788"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:35:44 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 309)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-06 02:35:44 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 59)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$bJTWgm2G/vQODJUCQwfDR.YI/E7UoBWpetcJdI/YdT5Je65f3gZbK"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:35:45.164339"], ["updated_at", "2024-04-05 23:35:45.164339"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$RzUUUwXBwDJEb9oI/792y.WylEirlkR0oy1oXp4y5sjdevjRUN7Rq"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:35:45.343890"], ["updated_at", "2024-04-05 23:35:45.343890"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$mM1RvM8K./d4mNh/Ls3rIeT26kXbqdSnJtdcd9INFMYcFo271abmy"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:35:45.519458"], ["updated_at", "2024-04-05 23:35:45.519458"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:35:45.521955"], ["updated_at", "2024-04-05 23:35:45.521955"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-06 02:35:45 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$iCYQ6WneJKgDbXvo5mojm./MaB0W8x53.xU3yf73E26TsR5f8msfa"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:35:45.704063"], ["updated_at", "2024-04-05 23:35:45.704063"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$wxUDvg5RXyDtXl2z82sWe.2PYagQHPuZvgKsQho6239QeQAAW7MQW"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:35:45.880952"], ["updated_at", "2024-04-05 23:35:45.880952"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$FTW5MFwl2LiEL1y2oSr38eGLBbJtTYJBD360cddCbOmjIWn3poGxi"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:35:46.055952"], ["updated_at", "2024-04-05 23:35:46.055952"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:35:46.057957"], ["updated_at", "2024-04-05 23:35:46.057957"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-06 02:35:46 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-06 02:35:46 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$nCricPDH0Vn9UPDt.IppjOENcFGK9C8FvtuOQ2mCE.8zDnmiegJCC"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:35:46.618490"], ["updated_at", "2024-04-05 23:35:46.618490"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$m7yNpTOShc.i0./9tuy/A.Iv5Yi4bIDvAuxojBJqMuHoygAYO36iy"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:35:46.795759"], ["updated_at", "2024-04-05 23:35:46.795759"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$wBzrlaOnlM5z8O3VVWNqduCXsOv.u.uJ9oC8aO7aNr7dB5U9.fgIe"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:35:46.971804"], ["updated_at", "2024-04-05 23:35:46.971804"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:35:46.973771"], ["updated_at", "2024-04-05 23:35:46.973771"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:35:47 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 307)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-06 02:35:47 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$tIAXGzYgsTHZ1XEojVYBmuowLUhtslbdL4FiALNy/D0oV3vPgZymi"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:35:47.332661"], ["updated_at", "2024-04-05 23:35:47.332661"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$d.hsktWyHJKg7EU7/EUYRuvJ2YfOH0b4LXJgLF1inc2DMrwg/raP6"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:35:47.506258"], ["updated_at", "2024-04-05 23:35:47.506258"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$o.wHTyAcpT74Jcdo4oRquukTUXUuZInHJYmDGwk1AOUgzFMzr7vBy"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:35:47.687098"], ["updated_at", "2024-04-05 23:35:47.687098"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:35:47.690241"], ["updated_at", "2024-04-05 23:35:47.690241"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-06 02:35:47 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$nSnbrSX4KBlJovkew9R3FuvoE4EbaW4E2OPrFpV0zIVjeMbyTbt56"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:35:47.873289"], ["updated_at", "2024-04-05 23:35:47.873289"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$1591yxKhENkwuFTG2VMqt.Gbjv/gIpv1Km81WnvY3M8aOJg6qKcla"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:35:48.046325"], ["updated_at", "2024-04-05 23:35:48.046325"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$7nsgGhKthlsoAN1wYPgKkukNh.2HSLT1ryvrEKpc0w/jkF3A9OnRK"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:35:48.221355"], ["updated_at", "2024-04-05 23:35:48.221355"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:35:48.223280"], ["updated_at", "2024-04-05 23:35:48.223280"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-06 02:35:48 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-06 02:35:48 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "participants"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "participants"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'participants';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$kYy9QtePMvuZlvTmdDpZ2OxAVpesok7L1QfA9o8.AdlBNwWvXpLn6"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:36:07.496643"], ["updated_at", "2024-04-05 23:36:07.496643"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$7f027xUoCLHVE9GilHXqWuveJBh7.qUttbsQIN/2AomaA/Ovk75zK"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:36:07.675676"], ["updated_at", "2024-04-05 23:36:07.675676"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$1kyxOfvjlWDf2vi.tXxnuOtoM4tT.2dnLMXogQncVPl7KY6jr.gSi"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:36:07.850439"], ["updated_at", "2024-04-05 23:36:07.850439"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:36:07.887161"], ["updated_at", "2024-04-05 23:36:07.887161"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:36:08 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:36:08.084958"], ["updated_at", "2024-04-05 23:36:08.084958"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 14ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 4319)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$6SrtFJ0xkfHDL7N/vn5yBuVDdYF6lZBoywcYAeSB3cwwJW1Jco176"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:36:08.267993"], ["updated_at", "2024-04-05 23:36:08.267993"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$l/0C9c.m8Ah4DqJ.SEFU.OWFmYBGh0GQ7hetv24p2WNxUDZb3Cxea"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:36:08.442231"], ["updated_at", "2024-04-05 23:36:08.442231"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$dVr2hgS426OZ0IPNpFGgoOj7uI8XE8JfLnx9/NlK8A6IhPDmjzTeC"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:36:08.619163"], ["updated_at", "2024-04-05 23:36:08.619163"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:36:08.620903"], ["updated_at", "2024-04-05 23:36:08.620903"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?id=1" for 127.0.0.1 at 2024-04-06 02:36:08 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"id"=>"1", "course"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" LIMIT ? OFFSET ?[0m  [["LIMIT", 50], ["OFFSET", 0]]
Completed 200 OK in 2ms (Views: 0.8ms | ActiveRecord: 0.2ms | Allocations: 684)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$YIyfccvpUfsug/Y4KbNw9e2y112gNJ1Sjm9E9w8ZJ32FNWme7cyKe"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:36:08.985930"], ["updated_at", "2024-04-05 23:36:08.985930"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$tsTiZFYdJcFNKu500Jq6QeCXCQvrO4GBe2jhNpeUo/HxF2/yUAJJi"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:36:09.161274"], ["updated_at", "2024-04-05 23:36:09.161274"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$OITgrcyL/DKbkR9RdzwhDuVUvzG41fvyFDmQa7V12TMf4xk4Z5fxu"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:36:09.343878"], ["updated_at", "2024-04-05 23:36:09.343878"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:36:09.345820"], ["updated_at", "2024-04-05 23:36:09.345820"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-06 02:36:09 +0300
Processing by Api::SessionController#destroy as HTML
  Parameters: {"session"=>"session"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "jwt_validation" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["jwt_validation", "sONdLsGOYZFEFdinbHFYIlrsviKyuaKK"], ["updated_at", "2024-04-05 23:36:09.525475"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 1.1ms | Allocations: 1071)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:36:09 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 305)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$4D8Pug.fmvy177vTwR6yluW4t6n4STmLdvNRUIUG1j4Pn1iPRqUVK"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:36:09.715998"], ["updated_at", "2024-04-05 23:36:09.715998"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$QcUF0giRAzuQoCiNgZmzb.Yrlqh8qgR/SaVcxSjMfAh2IsLrS.icO"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:36:09.889627"], ["updated_at", "2024-04-05 23:36:09.889627"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$SGrYQ5fN7RLtu4xpr8zBe.4QiNeQUOSMKJMf0CN3Nle2vSmgNSz86"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:36:10.064112"], ["updated_at", "2024-04-05 23:36:10.064112"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:36:10.065865"], ["updated_at", "2024-04-05 23:36:10.065865"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:36:10 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 309)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-06 02:36:10 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 59)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$35kP34uTM7KNjnmsZ0t4xuVPLuvsAf26UkI56fCjfbNRkBEc8V5HG"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:36:10.426504"], ["updated_at", "2024-04-05 23:36:10.426504"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$XAunxmEnaQYRi5wB.HwOw.A2Q2j5CZNGTXlBeI4u5GXXvj8LfZtOC"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:36:10.606641"], ["updated_at", "2024-04-05 23:36:10.606641"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$dljgRraqUPx3XgjIB8p3lO1kTvNmz/l8YlOIlDjamsIPgccDqX9ty"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:36:10.783293"], ["updated_at", "2024-04-05 23:36:10.783293"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:36:10.785668"], ["updated_at", "2024-04-05 23:36:10.785668"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-06 02:36:10 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$aPGR26woRu/YerGvLfLSF.bo4x8CqB/rKtvTs5VgE300sxH3P8V/S"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:36:10.971144"], ["updated_at", "2024-04-05 23:36:10.971144"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$Vs2Fvh.akNLUIYZAIr0u0.VzwMZKDhGGvZkVZpI/gjbanoi./Fray"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:36:11.151152"], ["updated_at", "2024-04-05 23:36:11.151152"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$QDpT6VIukye2Zcm.ItyNkuCJ9zuqCMlBIpSo1L6dLukGncYQw/2se"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:36:11.329396"], ["updated_at", "2024-04-05 23:36:11.329396"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:36:11.331578"], ["updated_at", "2024-04-05 23:36:11.331578"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-06 02:36:11 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-06 02:36:11 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$lQ0WQNKFb33hCHgyUkJUGuv2adi7fH8iLz1XF/WrTKiNVZR/Emd1q"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:36:11.922838"], ["updated_at", "2024-04-05 23:36:11.922838"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$m./ZCgWoS8lJevQsV1fr9u2eXYxnQik57WUZWqOBeC3vqPBxVBLpG"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:36:12.118904"], ["updated_at", "2024-04-05 23:36:12.118904"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$bsf9buSeIiwgJ4BYPDmTmuHOBCxrZzf.oUUJ99LzC3nW9O5NiGUAu"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:36:12.308335"], ["updated_at", "2024-04-05 23:36:12.308335"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:36:12.310695"], ["updated_at", "2024-04-05 23:36:12.310695"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:36:12 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 307)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-06 02:36:12 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$1qlMPRlFDHkl.wZFuW5s0Ovjdxkqp1H9CAAQRNCeehx8.JgzGK0Ri"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:36:12.689205"], ["updated_at", "2024-04-05 23:36:12.689205"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (3.2ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$hMpKA73hyOUJCPDKTJFAxu34ujLrJc279sNafkrvvB1HOg9SpQAiS"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:36:12.882574"], ["updated_at", "2024-04-05 23:36:12.882574"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$slH.g8rg9ZPzkrUoBPbn2uAdkNWJSOfSZkrGamWbd7VflAMBF7C/e"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:36:13.079600"], ["updated_at", "2024-04-05 23:36:13.079600"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:36:13.081943"], ["updated_at", "2024-04-05 23:36:13.081943"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-06 02:36:13 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$4P00TUYkC0wEi.1x1X92du3S3IIM8vzvJ5q0BUAOJB5jF0hrdP3ES"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:36:13.285068"], ["updated_at", "2024-04-05 23:36:13.285068"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$yDxAcBWsC4ALK3yCw/0Me.rLKzWKTgYns9neZG0b8eI8hHhKwZjkq"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:36:13.479767"], ["updated_at", "2024-04-05 23:36:13.479767"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$Jc5LY0TgUsvI.nRhkdkAi.WYM5DvE6rA5vpOAtGuJ4HlKvxyGXI1S"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:36:13.660373"], ["updated_at", "2024-04-05 23:36:13.660373"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:36:13.662218"], ["updated_at", "2024-04-05 23:36:13.662218"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-06 02:36:13 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-06 02:36:13 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "participants"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "participants"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'participants';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$HXVwHgW34Lijr0GrO21C/O8jGQI7SN/hrEgbM0Dpb09uEn7VJkdX."], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:36:35.724050"], ["updated_at", "2024-04-05 23:36:35.724050"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$Rw7qycpByxg2OK3KpyWL0OSIIiSNogbg/AOUwuZTmicMQDWbTIFfS"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:36:35.900260"], ["updated_at", "2024-04-05 23:36:35.900260"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$LCU1qClROwNTa5Y0AZ7.xuUZ9A/dc3LOVEvbDkjkWQIagfUkwNTkS"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:36:36.075239"], ["updated_at", "2024-04-05 23:36:36.075239"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:36:36.112978"], ["updated_at", "2024-04-05 23:36:36.112978"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:36:36 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:36:36.320713"], ["updated_at", "2024-04-05 23:36:36.320713"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 16ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 4324)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$VEMRhWyj2EvSgTVrIaXksOpJDLb/nfprUaXdPfZtE0Fj6vLtqGiRW"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:36:36.516098"], ["updated_at", "2024-04-05 23:36:36.516098"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$tGlo2RSqsodRvTA5m71y8ufAxnIxw5Q5I8Zwx.odbpb62lwnaOtVG"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:36:36.691518"], ["updated_at", "2024-04-05 23:36:36.691518"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$qmj.rGtjPK7JGkfbBtsUt.6FIZzj0Jxj2MG0eKImA/eIls6mvRbWm"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:36:36.866045"], ["updated_at", "2024-04-05 23:36:36.866045"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:36:36.868581"], ["updated_at", "2024-04-05 23:36:36.868581"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?id=1" for 127.0.0.1 at 2024-04-06 02:36:37 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"id"=>"1", "course"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" LIMIT ? OFFSET ?[0m  [["LIMIT", 50], ["OFFSET", 0]]
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 685)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$nIfwwVy3aZHqxQkrne5GS.4TIEZCkEQ9QQWacgcWNwPUlfCcTBC2K"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:36:37.239375"], ["updated_at", "2024-04-05 23:36:37.239375"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$lV1TQGVXuaNijOyBu6X01uAISMTFcsSxHNpDM56qXfsY2GvcgwcaC"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:36:37.418778"], ["updated_at", "2024-04-05 23:36:37.418778"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$2uFYuZNgH.cDk4in2kcAS.R4s6VWvB0Q1KDPD9ViKPPeihQRWpioq"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:36:37.609183"], ["updated_at", "2024-04-05 23:36:37.609183"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (12.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:36:37.623424"], ["updated_at", "2024-04-05 23:36:37.623424"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-06 02:36:37 +0300
Processing by Api::SessionController#destroy as HTML
  Parameters: {"session"=>"session"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "jwt_validation" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["jwt_validation", "mZNtuLpOJJZtjBYlLZnhrxhjyAVjazVa"], ["updated_at", "2024-04-05 23:36:37.807956"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1071)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:36:37 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 306)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$t8yijL1kAY38f/mPN6i.EuXf8h9GqfmQTtt3uDHn0AnWa.1jpnsoq"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:36:37.995310"], ["updated_at", "2024-04-05 23:36:37.995310"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$yYxNkOM4OxDaO81aMNo.QeDx.tVW6E7WfNGQ0N/jEgLsWJYh9PMtG"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:36:38.172390"], ["updated_at", "2024-04-05 23:36:38.172390"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$aC7c1i1wLfbL/qGXRIZy.eo4wWw43oFHgEDk7YNFIaoRaRan9BZga"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:36:38.345171"], ["updated_at", "2024-04-05 23:36:38.345171"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:36:38.347704"], ["updated_at", "2024-04-05 23:36:38.347704"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:36:38 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 310)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-06 02:36:38 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 60)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Hy7OhpLFDSTk/OHHxr3niO3x8uu.GU2OtV37Q59OejI.buYHR13Oa"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:36:38.712583"], ["updated_at", "2024-04-05 23:36:38.712583"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$TBePnlCuKghDFuRI0PV6eOPA/oXF31dq2BfBHNOYpHd6qSRNxPGBK"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:36:38.890723"], ["updated_at", "2024-04-05 23:36:38.890723"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$e4hOozHhrlMBgfTYnxB76uT9yj6so4EY8wlihUIq0vxEMK4MTFYUW"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:36:39.064812"], ["updated_at", "2024-04-05 23:36:39.064812"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:36:39.066563"], ["updated_at", "2024-04-05 23:36:39.066563"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-06 02:36:39 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 59)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$XOxPxASByf938qkzBj/W0.Fubm95WhoOfen7.uTi68.vnZ/GrH6rq"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:36:39.252225"], ["updated_at", "2024-04-05 23:36:39.252225"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$gt34xfnXO/2DoDzsZFJiUewxWd8XXjpb1cHwvJLzob5yBhfnFoJVS"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:36:39.425502"], ["updated_at", "2024-04-05 23:36:39.425502"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$eEnpBANQz3MmqZQ8byZvm.BNIQ92dWcuG584cpIdIrlqwB8PTP0GO"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:36:39.599856"], ["updated_at", "2024-04-05 23:36:39.599856"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:36:39.601555"], ["updated_at", "2024-04-05 23:36:39.601555"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-06 02:36:39 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-06 02:36:39 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 59)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$ZoUK0nPgrF7ZoB6ByB33RuwOtw48KtLRyhfMqX7lyWVBne1X8UISS"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:36:40.153765"], ["updated_at", "2024-04-05 23:36:40.153765"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$.sc9RbjugsyaN73gcYMapO6fu2sEhpXUwsqDpnV6d6zLxrWLLINIC"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:36:40.329450"], ["updated_at", "2024-04-05 23:36:40.329450"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$GaPbPkhbl9ZHvb.vefbZHeO0aQj2.xxfry4tT7dwa32i2Zl3/G6nG"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:36:40.504616"], ["updated_at", "2024-04-05 23:36:40.504616"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:36:40.506651"], ["updated_at", "2024-04-05 23:36:40.506651"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:36:40 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 308)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-06 02:36:40 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 59)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$.Tz4.V0AWL9B9k553WCVsutECFbPL0tsnLgN46cUqSUoXZturaZLG"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:36:40.870900"], ["updated_at", "2024-04-05 23:36:40.870900"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$mdFadFIkvRzEFSox2MFh0eArA5ozkIjglgy8PWAxckAwTBmSs0xsO"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:36:41.050535"], ["updated_at", "2024-04-05 23:36:41.050535"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$jTVmupS1rJAiBmgULaZSRelxxdakQ/3c2dnVWZVYxneaS80tTc35K"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:36:41.239594"], ["updated_at", "2024-04-05 23:36:41.239594"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:36:41.241488"], ["updated_at", "2024-04-05 23:36:41.241488"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-06 02:36:41 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 59)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$XEWYMfx5tnrzeinLIlrN4epRdjxnmhjp.oAz2unEjEaJ1BbAAWHJm"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:36:41.434238"], ["updated_at", "2024-04-05 23:36:41.434238"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$z6SCH1bw3SGKrDTwb6ICcuz8zN0JWfiRlKgu.0mtcpPS1cjHOfOCi"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:36:41.622974"], ["updated_at", "2024-04-05 23:36:41.622974"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$uw0IgcveMRiyVLE1bj9VCO1q3U9.ybWzZR76hJIzbCroZvYr3NsYS"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:36:41.801925"], ["updated_at", "2024-04-05 23:36:41.801925"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:36:41.804436"], ["updated_at", "2024-04-05 23:36:41.804436"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-06 02:36:41 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-06 02:36:42 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 59)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "participants"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "participants"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'participants';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$2H0jW54rfMIxNmaDOxcYHeIi7A4nV.62ClJOwl0x74oEpFNo9be8q"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:37:11.972983"], ["updated_at", "2024-04-05 23:37:11.972983"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$qhWurC6B6SM4ETnRSZl0TuhL6ko6SlU8W2esVhbWkdzHyNO8.CjkG"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:37:12.148424"], ["updated_at", "2024-04-05 23:37:12.148424"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$sBBntZycbPOCHBYo8oVUBeLSs2XD0NOB78mX0oZD2cn1nMGp6OQMi"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:37:12.329859"], ["updated_at", "2024-04-05 23:37:12.329859"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:37:12.368032"], ["updated_at", "2024-04-05 23:37:12.368032"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:37:12 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:37:12.575445"], ["updated_at", "2024-04-05 23:37:12.575445"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 16ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 4319)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$2mJUYoMYinJnDZ2OklkGFuKuq24IODr05BNbOrYYf3K6ynY5.bgCC"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:37:12.762607"], ["updated_at", "2024-04-05 23:37:12.762607"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$w0OGzCFb3/hdqH9EEP8ma.D9/bsggdndjSS3d0bRIiZMKb5KbQiNe"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:37:12.938207"], ["updated_at", "2024-04-05 23:37:12.938207"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$XUaJbaEUJg7tHfRGabq8/u/YXD2bIaiVif7bWcgA0dM4f0xu8frli"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:37:13.111660"], ["updated_at", "2024-04-05 23:37:13.111660"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:37:13.113362"], ["updated_at", "2024-04-05 23:37:13.113362"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?id=1" for 127.0.0.1 at 2024-04-06 02:37:13 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"id"=>"1", "course"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" LIMIT ? OFFSET ?[0m  [["LIMIT", 50], ["OFFSET", 0]]
Completed 200 OK in 2ms (Views: 0.8ms | ActiveRecord: 0.1ms | Allocations: 684)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$9WipWBVxE3P7APRfjHayvuk.S5bni0hQvH.P2lw5OkOe3kxyMKC4a"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:37:13.480736"], ["updated_at", "2024-04-05 23:37:13.480736"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$d.9f.c8LW5bRtiZRkaEgAOyeGBT6Hju2F4DOJ.ZKIryzVinvYFmeu"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:37:13.653693"], ["updated_at", "2024-04-05 23:37:13.653693"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$hMgMmdtWPTKfG2hKPCsvJu3SyOKef4c7p92kdPsYEeiwFw7HlRsOG"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:37:13.852119"], ["updated_at", "2024-04-05 23:37:13.852119"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:37:13.854076"], ["updated_at", "2024-04-05 23:37:13.854076"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-06 02:37:14 +0300
Processing by Api::SessionController#destroy as HTML
  Parameters: {"session"=>"session"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "jwt_validation" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["jwt_validation", "pNQKaqqCHGmPZuiYQldQTumByOWeNoQT"], ["updated_at", "2024-04-05 23:37:14.039921"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1071)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:37:14 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 305)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$uRXKCIQ1hBAwZwjVy4Q9O.iKB4DfLZBlZp.WIm2bf4CBe2AYkyfrG"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:37:14.223431"], ["updated_at", "2024-04-05 23:37:14.223431"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$f7/.xAo6ButZ1W/jGighMu/ZPu10Su.jEo0WxTu/BS/FUwuuIa37S"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:37:14.401627"], ["updated_at", "2024-04-05 23:37:14.401627"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$yXBG5tZNcTb43OVglSANpefMm8/keN61KLN4ajDlw0DrM/jV75nHy"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:37:14.575548"], ["updated_at", "2024-04-05 23:37:14.575548"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:37:14.577419"], ["updated_at", "2024-04-05 23:37:14.577419"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:37:14 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 309)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-06 02:37:14 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 59)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$A0vdCJdSZxNxSX22Fb847eyvhZDnSFERw7mh7jGxagww3kxENiNPm"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:37:14.937497"], ["updated_at", "2024-04-05 23:37:14.937497"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$SDVRddZdy8pABAMRksz/6OL723Ih3ZX8rrPfXZjHycYGfOAPd2dY."], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:37:15.110455"], ["updated_at", "2024-04-05 23:37:15.110455"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$QPXvPvBs7MeDTh1nI8p6AO3gbUCD4n.Mg4GRNHtcvxWLRAKbz2ze2"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:37:15.286304"], ["updated_at", "2024-04-05 23:37:15.286304"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:37:15.288115"], ["updated_at", "2024-04-05 23:37:15.288115"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-06 02:37:15 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Ebm1nA2tTK5O7nS5PBL5kemcMpP2vVBG.Ibq098/n.iyf.8y.XgM6"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:37:15.477865"], ["updated_at", "2024-04-05 23:37:15.477865"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$7YFyU.z7CNEf3W8fN5tog.eZ.JMq7KyTLBbHfsryC31Js9o7VZdmq"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:37:15.665595"], ["updated_at", "2024-04-05 23:37:15.665595"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$OJhqoLN/zzByylyDhDvJ6ucxeSEYo2g1UBYKlsiQnEAL61TlGwRey"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:37:15.850821"], ["updated_at", "2024-04-05 23:37:15.850821"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:37:15.852794"], ["updated_at", "2024-04-05 23:37:15.852794"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-06 02:37:16 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-06 02:37:16 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$WcWv6Zsh76.k2UafFiQC.eEJ7uHAF9Dq0p5vh9w3JJXlT0F6N4z9u"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:37:16.409663"], ["updated_at", "2024-04-05 23:37:16.409663"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$4SbzAXjK.ZUvz2JgxwhovuannQsJYdB4pS8zf.cvKBaeMB01hvYwG"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:37:16.612496"], ["updated_at", "2024-04-05 23:37:16.612496"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$/2Wlq2RJu8xzogP/Ou7LY.IqhITU9KQ64yB.I4OrPt9e6dB8OVlQO"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:37:16.813106"], ["updated_at", "2024-04-05 23:37:16.813106"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:37:16.816433"], ["updated_at", "2024-04-05 23:37:16.816433"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:37:17 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 403 Forbidden in 4ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 307)
  [1m[36mCourse Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-06 02:37:17 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$J4S2LStAiJv4NQj.VuVSR.eVr2Is1gx.RpvzM1APMQZTV8sjH2LP."], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:37:17.228649"], ["updated_at", "2024-04-05 23:37:17.228649"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$U14wXZneDuxBai1COsruwe.ZplMtyd0Js2t0HAhP6iAEk/YfWzuhG"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:37:17.407896"], ["updated_at", "2024-04-05 23:37:17.407896"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$oGvnYLWqpQy1ow2M92Uf6e3L.SDtL9hKrzX53rOL75bt0pma9lEh2"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:37:17.591038"], ["updated_at", "2024-04-05 23:37:17.591038"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:37:17.592702"], ["updated_at", "2024-04-05 23:37:17.592702"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-06 02:37:17 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$4nl9X.DbkPJtHOXjzNWUNOI0oL7J9ARTxqQyRdIVVYHb6Q9NesiAC"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:37:17.775403"], ["updated_at", "2024-04-05 23:37:17.775403"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$Y18LWqlkoG.S9KJfvJ4Zp.D2XXrPcJ3F4XyDCz3bOhXcojSsz/equ"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:37:17.956201"], ["updated_at", "2024-04-05 23:37:17.956201"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$U2yTzcbaLovgZkFW4SDRWeuRCzRjrLuidgFlqSq8cb.YsQVq4gsuO"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:37:18.139163"], ["updated_at", "2024-04-05 23:37:18.139163"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:37:18.141397"], ["updated_at", "2024-04-05 23:37:18.141397"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-06 02:37:18 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-06 02:37:18 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "participants"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "participants"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'participants';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$W5TEl1MoFI/QlD.5IjmjmeKaiJmsiAshZeCf36uBMeLwFMA5p/AMK"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:37:28.607157"], ["updated_at", "2024-04-05 23:37:28.607157"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$P1nzBDcvN8nBZiGOqOMvrOpI0WDkLjS39tfxJsIhaeJhyj9Hw8ha6"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:37:28.780457"], ["updated_at", "2024-04-05 23:37:28.780457"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$yYmYaVuNCjq/6A0OdgRgjuKtjIRDEEll.hAnBjTXzmixuIx9DcckG"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:37:28.958077"], ["updated_at", "2024-04-05 23:37:28.958077"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:37:28.996083"], ["updated_at", "2024-04-05 23:37:28.996083"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:37:29 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:37:29.195556"], ["updated_at", "2024-04-05 23:37:29.195556"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 14ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 4319)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$2kqKikJzgkg7Kno21Ih9XOjOcGb/sJIxgYzDJ/ZitkVRSK8HFVrNy"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:37:29.381833"], ["updated_at", "2024-04-05 23:37:29.381833"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$kQerZ5ohqbthPj5/hw6IXOQjdAQEp6HBdfZGx2llszLE0J.D3E7ja"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:37:29.556003"], ["updated_at", "2024-04-05 23:37:29.556003"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$1cYeSPZvxYTyZLtgGkzBuOzzIPdhCwOodeHsYSTmXtskwq9tChty2"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:37:29.729284"], ["updated_at", "2024-04-05 23:37:29.729284"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:37:29.731237"], ["updated_at", "2024-04-05 23:37:29.731237"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?id=1" for 127.0.0.1 at 2024-04-06 02:37:29 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"id"=>"1", "course"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" LIMIT ? OFFSET ?[0m  [["LIMIT", 50], ["OFFSET", 0]]
Completed 200 OK in 3ms (Views: 0.8ms | ActiveRecord: 0.1ms | Allocations: 688)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$tRF01yMITd9.Cdb4zlCvqOPgGnkUenNlrjdogIU0M35dLZgzQGl4u"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:37:30.113214"], ["updated_at", "2024-04-05 23:37:30.113214"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$u8i64QCndDX/WwI/eY7hcuqQL2uSsHBLblbHMz8z1H8XaQiUNJv8m"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:37:30.287781"], ["updated_at", "2024-04-05 23:37:30.287781"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$/FfULT/Uo456d4cxuCOtPuVW1zqc7kCP/bChiAdz1oUJsFfFOSI66"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:37:30.479778"], ["updated_at", "2024-04-05 23:37:30.479778"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:37:30.481929"], ["updated_at", "2024-04-05 23:37:30.481929"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-06 02:37:30 +0300
Processing by Api::SessionController#destroy as HTML
  Parameters: {"session"=>"session"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "jwt_validation" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["jwt_validation", "PEALvJnnvwtzAHIbaQVXpLIVIzaPVjKn"], ["updated_at", "2024-04-05 23:37:30.674251"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1071)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:37:30 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 305)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$PPxjtMvbuCpik/WLjitij.KuKg1XQXX/1aKqlSFQWCR7Q.nkyO3e."], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:37:30.862064"], ["updated_at", "2024-04-05 23:37:30.862064"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$PQ.rLKMPx64Orr7//q0z4OV6XbkXfVrVARQzyuoXqpsoPulyfMF4."], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:37:31.043306"], ["updated_at", "2024-04-05 23:37:31.043306"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$AbAhPdFOab2gQw56b3lNEur6UVzPE83BAQ.yaJhR81BjZ8Wv.g7ZC"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:37:31.224945"], ["updated_at", "2024-04-05 23:37:31.224945"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:37:31.227006"], ["updated_at", "2024-04-05 23:37:31.227006"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:37:31 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 309)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-06 02:37:31 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 59)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$qM71qCm0Eja.wKGCiIOH/e.BvZ86TdAqBJqGrFe0uqcllsKzlWn/m"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:37:31.592687"], ["updated_at", "2024-04-05 23:37:31.592687"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$GTR/tybDbyn1hvfstI1DluzG5SZzW/4EFUiR2TEJZZZoAJlXH8N0O"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:37:31.768779"], ["updated_at", "2024-04-05 23:37:31.768779"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$YMheKo/4xgZN07UuCXXl0OofDOcUZIvVWNVCSYH6WUz3gv./uuPTK"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:37:31.947025"], ["updated_at", "2024-04-05 23:37:31.947025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:37:31.948717"], ["updated_at", "2024-04-05 23:37:31.948717"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-06 02:37:31 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$W3ctpILSbAyfDjKF/HmLPejkVRNliuvO06EPDYj8GvsRbIiNsB.5a"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:37:32.129257"], ["updated_at", "2024-04-05 23:37:32.129257"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$uSsThh/o62.XRCWRWoeFr.LTbVV3rvWseZMupEQoT8sRZdVWXqGda"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:37:32.305687"], ["updated_at", "2024-04-05 23:37:32.305687"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$bHurF.HzNrmz43Zqryl/GuyYr5LymYK1G7r0LvFJIoFN5hCKZ1U3S"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:37:32.488667"], ["updated_at", "2024-04-05 23:37:32.488667"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:37:32.490397"], ["updated_at", "2024-04-05 23:37:32.490397"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-06 02:37:32 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-06 02:37:32 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$zDfD8drSCNKt8tcVaGJIyuBo//GMZIONmCG55//LOj8KeVM25eHP2"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:37:33.054040"], ["updated_at", "2024-04-05 23:37:33.054040"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$8Xw/5wMW/KWLxwx7jO1nTeQOOwX2b7dU.ui7vBuV/TDdspDJFBVpe"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:37:33.237108"], ["updated_at", "2024-04-05 23:37:33.237108"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$Hx54m87oZMr1/vL39mQtMua3lKLffABUYZkPD6TSme.saYYpQ9Z7u"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:37:33.417683"], ["updated_at", "2024-04-05 23:37:33.417683"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:37:33.419405"], ["updated_at", "2024-04-05 23:37:33.419405"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:37:33 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 307)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-06 02:37:33 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$KzAerMs7x.Ybr92rwWk/zeZFPiGokONWu1S8ls/HDncGwlZtHvzbS"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:37:33.816607"], ["updated_at", "2024-04-05 23:37:33.816607"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$f5iL2p5YH30X64AS2kPZUe3JDb1XCjYQmDa30FvGQiEASksKzGH1q"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:37:34.009344"], ["updated_at", "2024-04-05 23:37:34.009344"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$ofIrOTnu9.rRDN6NejOh6.uafGubGSFG7wSqAwF22cmKaJmoNA/.e"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:37:34.198521"], ["updated_at", "2024-04-05 23:37:34.198521"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:37:34.201755"], ["updated_at", "2024-04-05 23:37:34.201755"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-06 02:37:34 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$co9Brhm47kV..LK5TEjWyOnrZ568yHHliy7ntaRkiAgLuTJfA0p6i"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:37:34.390766"], ["updated_at", "2024-04-05 23:37:34.390766"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$K6ItCaaikjOsCd0nsD9MH.wyY3jkLFGNhtlaK/pZaHMJrgbTzHwYi"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:37:34.570163"], ["updated_at", "2024-04-05 23:37:34.570163"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$dmyQyKtBlF8FztsNE/I1Y.6hRKmtGBZGnJGCnzrnmxwk6BIgwk0S."], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:37:34.752836"], ["updated_at", "2024-04-05 23:37:34.752836"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:37:34.754642"], ["updated_at", "2024-04-05 23:37:34.754642"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-06 02:37:34 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-06 02:37:35 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "participants"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "participants"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'participants';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$k5zBz75Asc/.Z2u233SdVeRvvKk8Md/OrRHhU3tbc0d9eui7Uy/yu"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:47:41.362662"], ["updated_at", "2024-04-05 23:47:41.362662"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$3S3B7ggBzqeUaPJpwF3C8OUQhwIGOnkFcL27dcsTX/J06RwdyAlr6"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:47:41.535426"], ["updated_at", "2024-04-05 23:47:41.535426"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$s6jZPHyRy5o/s3B8Gey5MOdRssXWHQo8FqifDH3Y/UxCw/KfqKJhK"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:47:41.706627"], ["updated_at", "2024-04-05 23:47:41.706627"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:47:41.744007"], ["updated_at", "2024-04-05 23:47:41.744007"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:47:41 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:47:41.946804"], ["updated_at", "2024-04-05 23:47:41.946804"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 15ms (Views: 0.3ms | ActiveRecord: 0.4ms | Allocations: 4320)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$cBy9k51oRmepPlIBjy.imOyiDqAHAbAPy7B7yAzP5UfkoiN2Tm6s2"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:47:42.126860"], ["updated_at", "2024-04-05 23:47:42.126860"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$uUPI6h/0mXAEcqwFzKk/AeC06aYpCjeSW4.JsHT2cMas00cqoNtZq"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:47:42.296125"], ["updated_at", "2024-04-05 23:47:42.296125"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$At9d4OhBxOumWTh.FQKwqelvCF7yTMDcVZ0NtqDYhbJ/n3k94oDrW"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:47:42.465195"], ["updated_at", "2024-04-05 23:47:42.465195"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:47:42.466876"], ["updated_at", "2024-04-05 23:47:42.466876"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?id_stud=1" for 127.0.0.1 at 2024-04-06 02:47:42 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"id_stud"=>"1", "course"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" INNER JOIN "participants" ON "participants"."course_id" = "courses"."id" WHERE "participants"."user_id" = ? LIMIT ? OFFSET ?[0m  [["user_id", 1], ["LIMIT", 50], ["OFFSET", 0]]
Completed 200 OK in 63ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 3434)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$tBUjdr5dij.9Emnwec3QHe6SvKRIx3fKW8D7KOPbyR2rMkWv9aRvK"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:47:42.904953"], ["updated_at", "2024-04-05 23:47:42.904953"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$LVH0JMgRps8SLHt3UdWrZ./mxz0FYdAP/phl70Qa59BUN8mkbeF8u"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:47:43.096322"], ["updated_at", "2024-04-05 23:47:43.096322"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$.7r..84yf4Vjbm1/TYV1ZONeVwtIEGeGl.x.3/QT4ROmsojrxxa/m"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:47:43.278367"], ["updated_at", "2024-04-05 23:47:43.278367"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:47:43.280892"], ["updated_at", "2024-04-05 23:47:43.280892"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-06 02:47:43 +0300
Processing by Api::SessionController#destroy as HTML
  Parameters: {"session"=>"session"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "jwt_validation" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["jwt_validation", "AjCkptNjgfLyplceqwguTydaRNLWWvBP"], ["updated_at", "2024-04-05 23:47:43.466002"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1093)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:47:43 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 305)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$cIAjRrnXX4AYQ0qJA.pxh.pZ8HeKIL6P5qBr.887i7bEsvlbbDVLe"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:47:43.644418"], ["updated_at", "2024-04-05 23:47:43.644418"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$ZLzYW05/ISYjFNbiTBHkv.hNY.xzsM5C/DNnAPN2WVvhzY1H.gZyy"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:47:43.812804"], ["updated_at", "2024-04-05 23:47:43.812804"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$ta0ul53a1oFYMPTfpEk0aONRi2p6nRO90n/FH8wf1cTfoXKFEC3z."], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:47:43.984223"], ["updated_at", "2024-04-05 23:47:43.984223"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:47:43.986039"], ["updated_at", "2024-04-05 23:47:43.986039"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:47:44 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms | Allocations: 309)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-06 02:47:44 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 59)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Xjl8UbRf5SGK.jjyF1EUi.9QFlc7n0S/pv1ZhLuJCUXs4MqLaFuwG"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:47:44.334412"], ["updated_at", "2024-04-05 23:47:44.334412"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$ygueoBRyQr7W8eTHkie0nOah4vGHpSJOi6ErfWiepXacPkT7c3gQ2"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:47:44.508097"], ["updated_at", "2024-04-05 23:47:44.508097"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$fkeOoT41Y42rp2xr8/q/COsSFw/EjYr4BbgZuV3m01ie13Js2QleK"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:47:44.681271"], ["updated_at", "2024-04-05 23:47:44.681271"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:47:44.683310"], ["updated_at", "2024-04-05 23:47:44.683310"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-06 02:47:44 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Lttdrv1iYJLBZw3w7.jwD.F77IzYJPTsVUVXlbLYFSJfQecA4z8cW"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:47:44.863774"], ["updated_at", "2024-04-05 23:47:44.863774"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$QkEasVWtYqAODoH4nPcMsO7KUiOpN1PV.LYW7nzOFlVuF6pVrE5OO"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:47:45.033197"], ["updated_at", "2024-04-05 23:47:45.033197"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$r4S6lEC8ilbxBwwKyyZlT./iklH6F72y/gvyPon5QFCaM6lk6dIS6"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:47:45.207060"], ["updated_at", "2024-04-05 23:47:45.207060"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:47:45.209454"], ["updated_at", "2024-04-05 23:47:45.209454"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-06 02:47:45 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-06 02:47:45 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$xh25hH7s0UrLdeAIRgTHFeIb53AZaFVhypQcw6g3xEcdfiovndVBm"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:47:45.716533"], ["updated_at", "2024-04-05 23:47:45.716533"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$tUkDdeu9fNPFsj8IGP2Rte4Dr4/IlaoNxctq0i8EGE8.5UMcrAdmq"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:47:45.885973"], ["updated_at", "2024-04-05 23:47:45.885973"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$p64ttwryOOASZ6ZXhAaFwOVWECVAbHDP.UDNVi0Ks38BlwrGHCuQO"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:47:46.058720"], ["updated_at", "2024-04-05 23:47:46.058720"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:47:46.060445"], ["updated_at", "2024-04-05 23:47:46.060445"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:47:46 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 307)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-06 02:47:46 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$d1YMw8IOISSJ2xzxxAa00e5yQ7ApbHD1o1a2mZJnCibp0sIw46/bO"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:47:46.411633"], ["updated_at", "2024-04-05 23:47:46.411633"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$gzavUXMx3W8zYTAmW.dK..PDfRRbVDOfO50g7DOGXHtNmn141S5gm"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:47:46.589723"], ["updated_at", "2024-04-05 23:47:46.589723"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$LJoWmpBYqRahIrN6VrDDAeBC4wjWEpsI9rj1DXAAw/uwcRqTDizHO"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:47:46.763561"], ["updated_at", "2024-04-05 23:47:46.763561"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:47:46.765403"], ["updated_at", "2024-04-05 23:47:46.765403"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-06 02:47:46 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$2QhGY0dHsKDtjgVh5ZvxROXtabvjZCUtThEDAgrE/2tIECHnnP/Vm"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:47:46.948481"], ["updated_at", "2024-04-05 23:47:46.948481"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$sRDzvPZrAD0gXh7SboNdiebhU5t0jSidQ2KSibqNSyemhWPeLeGh6"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:47:47.118879"], ["updated_at", "2024-04-05 23:47:47.118879"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$tGsBP3gb/PkhK8ANIVh0.eZyPxilaAZkB5hIGjCYYoZszJ/Ec4jcS"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:47:47.289244"], ["updated_at", "2024-04-05 23:47:47.289244"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:47:47.290877"], ["updated_at", "2024-04-05 23:47:47.290877"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-06 02:47:47 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-06 02:47:47 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "participants"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "participants"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'participants';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$lhusY2v.g9W8rbYcq/e.8OHc72ozWQObKnCQ23gDHo0.5NY4IyRcG"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:48:05.076628"], ["updated_at", "2024-04-05 23:48:05.076628"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$KaPlT.XHe6BHRj7rIpquXuLnnFL4Fgtkcxzv9ENB/c.AarfRSBNZe"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:48:05.287869"], ["updated_at", "2024-04-05 23:48:05.287869"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$GTI4Oa4Oe9joA5E53K.wp.VJlWbsieH7bAvYPlCGtZghC3qtQcvd6"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:48:05.470205"], ["updated_at", "2024-04-05 23:48:05.470205"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:48:05.512231"], ["updated_at", "2024-04-05 23:48:05.512231"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:48:05 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:48:05.708354"], ["updated_at", "2024-04-05 23:48:05.708354"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 13ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 4320)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$gZpJFp9cjkr.RBZkwFpYPOxxRZUdr.JbHDf3PmobZc7cBYcWrJ/La"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:48:05.900531"], ["updated_at", "2024-04-05 23:48:05.900531"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$43gCFnM4OIeDg0nLFvrHEOkkK9JTpCHNKCEZqU6WqCh2i8.jZ1P7."], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:48:06.085870"], ["updated_at", "2024-04-05 23:48:06.085870"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$rFDA/Jb/7r.XAEPVeqftmepiGULIj.bo0qRRd0RKq1rAmz1vR6mte"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:48:06.263418"], ["updated_at", "2024-04-05 23:48:06.263418"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:48:06.265334"], ["updated_at", "2024-04-05 23:48:06.265334"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?id_stud=1" for 127.0.0.1 at 2024-04-06 02:48:06 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"id_stud"=>"1", "course"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" INNER JOIN "participants" ON "participants"."course_id" = "courses"."id" WHERE "participants"."user_id" = ? LIMIT ? OFFSET ?[0m  [["user_id", 1], ["LIMIT", 50], ["OFFSET", 0]]
Completed 200 OK in 23ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 3434)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$kjUFPNp1opIVcVRDEN1/y.159SjWjNfAKmGoc/dVHF4hulTra6FLS"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:48:06.667857"], ["updated_at", "2024-04-05 23:48:06.667857"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$s8emYXL01B.doEZG/GcRZOP/UMGu08Yiwd..SuiKPjS2Wi3ZFvIrq"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:48:06.845563"], ["updated_at", "2024-04-05 23:48:06.845563"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$N/qlc39R04BfifzdivgOLORdyYbETYkXzPDeqg65Qb0.nfyG5eDwm"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:48:07.017836"], ["updated_at", "2024-04-05 23:48:07.017836"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:48:07.019607"], ["updated_at", "2024-04-05 23:48:07.019607"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-06 02:48:07 +0300
Processing by Api::SessionController#destroy as HTML
  Parameters: {"session"=>"session"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "jwt_validation" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["jwt_validation", "ZqQMgbQZmgJtfEEDqAjAcPEZdmqxPfuF"], ["updated_at", "2024-04-05 23:48:07.199174"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1093)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:48:07 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 305)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$S4xSwg7VctC/uOl9Q2G9HOrPolCYEAjzDWCJpcucsXvvHY3dYorXi"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:48:07.380341"], ["updated_at", "2024-04-05 23:48:07.380341"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$ozG13h5LL/30lHNNVqwflOfbvbxkn/5CIlYgpjB0.n4vWQbb8YFlK"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:48:07.552727"], ["updated_at", "2024-04-05 23:48:07.552727"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$Yx7EoxNoI1fBJg0WsqrbzuuLPuwiKxxuH41cNHtq.E10V7mq4peae"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:48:07.721060"], ["updated_at", "2024-04-05 23:48:07.721060"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:48:07.723191"], ["updated_at", "2024-04-05 23:48:07.723191"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:48:07 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 309)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-06 02:48:07 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 59)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$mGKfQ/4tBVECqRPu5j/MlOwMR11PqXb4scu0/YUTWBa21geHgwsLS"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:48:08.067480"], ["updated_at", "2024-04-05 23:48:08.067480"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$BX7md37.NREajunICjm/eOBewfOBgfprD8iHbWu/pX1pzUjnWS4h2"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:48:08.238345"], ["updated_at", "2024-04-05 23:48:08.238345"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$vk5sZeOGAeBBmZpihJTgRuvvaSewQ0VdXzfjthXtRk4yYR7CU7d2S"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:48:08.411066"], ["updated_at", "2024-04-05 23:48:08.411066"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:48:08.412715"], ["updated_at", "2024-04-05 23:48:08.412715"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-06 02:48:08 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$63lUVV1t1r.6cUYna4CCD.LVM3/CZDozjMVyPeWc29n6vQBjdEZiu"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:48:08.602234"], ["updated_at", "2024-04-05 23:48:08.602234"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$QGHH7elD/IgkNfcma3.3Luiel/KhFrOE3Kbpt5yaRW4JqMCP68q6m"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:48:08.778199"], ["updated_at", "2024-04-05 23:48:08.778199"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$jqnQYDIv4HxJhj/8RDCG9e7Igc4NkC2y.c912lKGTca5PYscaSCN2"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:48:08.953517"], ["updated_at", "2024-04-05 23:48:08.953517"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:48:08.955283"], ["updated_at", "2024-04-05 23:48:08.955283"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-06 02:48:09 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-06 02:48:09 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$iB1Zdm/nCW/63zjYTtDgP.N87CylIIqooGefrjuMOBvURfSSnPkLW"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:48:09.454862"], ["updated_at", "2024-04-05 23:48:09.454862"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$/VEHT9rx6x.essl3YX5OY.BHG4mLWYkE2T0eUHsIr4pXw0SBvpCcO"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:48:09.626480"], ["updated_at", "2024-04-05 23:48:09.626480"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$5f8OAbsgDRCJ7HBZrGDAAeY7HdIPpDCChbxRRiK7c1kOhs.MR4m56"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:48:09.809718"], ["updated_at", "2024-04-05 23:48:09.809718"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:48:09.811866"], ["updated_at", "2024-04-05 23:48:09.811866"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:48:09 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 307)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-06 02:48:09 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$OGsJLPLD.jgpQE95TceC2uc0yUf96hNuy/YpZmjBokKzPGb69Cbdu"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:48:10.163827"], ["updated_at", "2024-04-05 23:48:10.163827"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$s2ZywftMnNxgvYmXXrzwT.Cg2mWfK5qxion2jyHFzA5MFGtN2uGDu"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:48:10.335419"], ["updated_at", "2024-04-05 23:48:10.335419"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$kFkqmxzn768sH0/veCMJdOa30Fq/KPPv7a8nBWo6ugZCB2FqkIzuO"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:48:10.510826"], ["updated_at", "2024-04-05 23:48:10.510826"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:48:10.513216"], ["updated_at", "2024-04-05 23:48:10.513216"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-06 02:48:10 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Pww6fgJl0fOrfWh77sGXxeDchV8Rb42oKBvYkffTLIIY0RiXab4Ii"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:48:10.689261"], ["updated_at", "2024-04-05 23:48:10.689261"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$8JYjdGcH8TJ0FyzfHMlX7OJBCZaUa8GPpEDbL/5X9YFWwsmGQ4oIy"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:48:10.863079"], ["updated_at", "2024-04-05 23:48:10.863079"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$J50.tOWT0D5kzDbWH7xIR.I4/6TU1mFDyTCDOsWxLyo84FHfuVcWe"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:48:11.049745"], ["updated_at", "2024-04-05 23:48:11.049745"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:48:11.051450"], ["updated_at", "2024-04-05 23:48:11.051450"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-06 02:48:11 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-06 02:48:11 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "participants"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "participants"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'participants';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$xCvVpS1poX71n2HS/Mgf5.8ZNgDAUdjgmNSbcBVM9Pv6vnFWzS15K"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:49:28.380168"], ["updated_at", "2024-04-05 23:49:28.380168"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$6E3QwEwWYhmDq1twqbrAiuZC720eE7xEOIl0bfqYPjEB8Eyb9/NNq"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:49:28.548378"], ["updated_at", "2024-04-05 23:49:28.548378"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$r0wAy8k2dhRF9GMyF7Ko.OTouwR/F3Eq0BTbvb7HfACq0eL97mS2G"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:49:28.722678"], ["updated_at", "2024-04-05 23:49:28.722678"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:49:28.759031"], ["updated_at", "2024-04-05 23:49:28.759031"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:49:28 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:49:28.957017"], ["updated_at", "2024-04-05 23:49:28.957017"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 14ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 4325)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$LgVUDiY3vnMI5ieZwxGK2unlTrxOO.cHxTQTfxmscVEbzYl.Glw4q"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:49:29.145150"], ["updated_at", "2024-04-05 23:49:29.145150"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$cFagrTSqgHe1Ho9G5tkJ.uZJueTkR6WLz18GvSgRnqI2eu.8N30sS"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:49:29.319101"], ["updated_at", "2024-04-05 23:49:29.319101"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$3zJcod4J6yOfGKQQ0PLCW.o276iQQVife1/OR72f96wAPJkCBzd6O"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:49:29.487791"], ["updated_at", "2024-04-05 23:49:29.487791"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:49:29.489509"], ["updated_at", "2024-04-05 23:49:29.489509"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?id_stud=1" for 127.0.0.1 at 2024-04-06 02:49:29 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"id_stud"=>"1", "course"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" INNER JOIN "participants" ON "participants"."course_id" = "courses"."id" WHERE "participants"."user_id" = ? LIMIT ? OFFSET ?[0m  [["user_id", 1], ["LIMIT", 50], ["OFFSET", 0]]
Completed 200 OK in 12ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 3434)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Atzznsf2md2CtOY2QbTDU..VSh9xyZ8Pfd3zLeC2e5RaP6DT47YCS"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:49:29.875171"], ["updated_at", "2024-04-05 23:49:29.875171"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$52atkdTLDV/qpUBWIU2B4eM9GqwVneIf.dMw5FmsmKaqDV4gpCDoW"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:49:30.044348"], ["updated_at", "2024-04-05 23:49:30.044348"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$tXaNI0KGk1phnCD3oTsP4OU/RonWcXH.FKpgaX2AUcmNhKw41VNfC"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:49:30.236889"], ["updated_at", "2024-04-05 23:49:30.236889"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:49:30.238643"], ["updated_at", "2024-04-05 23:49:30.238643"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-06 02:49:30 +0300
Processing by Api::SessionController#destroy as HTML
  Parameters: {"session"=>"session"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "jwt_validation" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["jwt_validation", "MRIGqKQjNbnunPhSYCJXdHUOeUQnoDjO"], ["updated_at", "2024-04-05 23:49:30.418685"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1093)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:49:30 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms | Allocations: 306)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$B5e/9mFFO48veiiIss5s2.k8NczNAvq0.0AAmWJsB0f.88gt4sBKe"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:49:30.602876"], ["updated_at", "2024-04-05 23:49:30.602876"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$.s9vuPW88b1QY4ucyE5TG.JboOMsy8wDerw.srQkXh4V3RlwxRaAa"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:49:30.778601"], ["updated_at", "2024-04-05 23:49:30.778601"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$BhawV4vRKCrwgzIyNp/qBup4TfXCF5y4l2Rc94KnTdbwPR7cQirzS"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:49:30.950119"], ["updated_at", "2024-04-05 23:49:30.950119"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:49:30.951718"], ["updated_at", "2024-04-05 23:49:30.951718"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:49:31 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 403 Forbidden in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 310)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-06 02:49:31 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 59)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$OTsvjvpbXX.gjkqhwvE71Oa6o5tjQ4GgKFEoSg1lXN1h5B1pP7eP6"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:49:31.310168"], ["updated_at", "2024-04-05 23:49:31.310168"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$.f08MhzcL.CLQkcPAM93dOtTrqQawzMLR4NQpk3maRIsp8ADnz3yO"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:49:31.479538"], ["updated_at", "2024-04-05 23:49:31.479538"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$Bx8Rbk675K4X4Y7zuyvnteA7hT2RNcb7I6.CE1GFenl5f5sFkNKEa"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:49:31.651679"], ["updated_at", "2024-04-05 23:49:31.651679"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:49:31.653611"], ["updated_at", "2024-04-05 23:49:31.653611"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-06 02:49:31 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$lUTcadjVfx3kByD7xm2Vbu7dYV.IjmIMJnzXXeGQIaYIAO3STkepO"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:49:31.833059"], ["updated_at", "2024-04-05 23:49:31.833059"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$uhfIt06D6EHRjKZyiA4Psehsty743FNaClNcfnDKx3rTqaj0RUgy."], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:49:32.006676"], ["updated_at", "2024-04-05 23:49:32.006676"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$6XgL8vT..Uf3GWqFLaHgpeOI4iE8A2BtK6cvTFYA/wq2hKKR2nP5K"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:49:32.182994"], ["updated_at", "2024-04-05 23:49:32.182994"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:49:32.185018"], ["updated_at", "2024-04-05 23:49:32.185018"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-06 02:49:32 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-06 02:49:32 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$sa.JE0RJXUUmkihWuykDruQUamxIRynJBYhD4J4PTtks9drW9vntG"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:49:32.725065"], ["updated_at", "2024-04-05 23:49:32.725065"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$JtjrsQtWYpuUGuF7JDQ.3OSkboQ17agNieVJTJPqO9FmjZe.6IpPi"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:49:32.898546"], ["updated_at", "2024-04-05 23:49:32.898546"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$fE2ER4.DxT9XMXb5NtLAJuRWxk/dgbjmGnAeW4IimaBIwL1EkoC2C"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:49:33.076401"], ["updated_at", "2024-04-05 23:49:33.076401"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:49:33.078190"], ["updated_at", "2024-04-05 23:49:33.078190"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:49:33 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms | Allocations: 308)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-06 02:49:33 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$WQUZ3HcGFGrdmlpJLsdDd.vvWqYR/jlJ8dtgD7L.HEAxoMr3tamxq"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:49:33.440684"], ["updated_at", "2024-04-05 23:49:33.440684"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$iveEYhWb2NKLHiZH3B0vGOxg1TADRRk8973ALu0qTT6ku5SM28HBO"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:49:33.609728"], ["updated_at", "2024-04-05 23:49:33.609728"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$sKS2bjJBlu0v.M60957cu.Xlj.bv.dgeH06H6jOxFyEM.ROuH1Gw6"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:49:33.780590"], ["updated_at", "2024-04-05 23:49:33.780590"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:49:33.782475"], ["updated_at", "2024-04-05 23:49:33.782475"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-06 02:49:33 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$13X/ZO6n6z/jajntr5Rseu.LuOzY5TpsRv4O/viuNaU0juZzcYUE2"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:49:33.962772"], ["updated_at", "2024-04-05 23:49:33.962772"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$2dWtRh5kzh9E46eouk/jbeCsC/dc81SJ9AfMM.UpfGUefW6fam/rW"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:49:34.139415"], ["updated_at", "2024-04-05 23:49:34.139415"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$X.LGZqVTZJC//2yfBSTim.oRCkXttot8qRMnngeztXVYdq3JhOfZi"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:49:34.312816"], ["updated_at", "2024-04-05 23:49:34.312816"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:49:34.314581"], ["updated_at", "2024-04-05 23:49:34.314581"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-06 02:49:34 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-06 02:49:34 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "participants"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "participants"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'participants';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$ISOrqKhGo7NfKuCYh7vEZOCq467w/BirzBXkZDiI9WOccGVl2HTBC"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:49:54.647097"], ["updated_at", "2024-04-05 23:49:54.647097"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$LR6oqUIzqQZ8/uzPbmX1FuYSo7dVBb9maK8qZZYFe/6x9f80nR1zu"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:49:54.815097"], ["updated_at", "2024-04-05 23:49:54.815097"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$XMXk1XaTylY2qtJldYF22u2F7QBAXfFg5AoutUKKBN0.qVuhGtkja"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:49:54.989796"], ["updated_at", "2024-04-05 23:49:54.989796"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:49:55.027436"], ["updated_at", "2024-04-05 23:49:55.027436"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:49:55 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:49:55.232876"], ["updated_at", "2024-04-05 23:49:55.232876"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 15ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 4325)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$EfpixztIIDhI7OiTozi9aOhW.1yNyfDBJJ3/Bl2BDCtUgAT6E5q1C"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:49:55.424604"], ["updated_at", "2024-04-05 23:49:55.424604"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$qIEZ2Uhm6cwcET.at5Eeme0c6UfCT/nrXe0Al.vfuqN66vUAvxRgi"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:49:55.595945"], ["updated_at", "2024-04-05 23:49:55.595945"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$vO661auAW2t4n1DIY2OItul/EnXKEr.7RTQSS7Zm7ID1dcmloT932"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:49:55.763926"], ["updated_at", "2024-04-05 23:49:55.763926"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:49:55.765868"], ["updated_at", "2024-04-05 23:49:55.765868"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?id_stud=1" for 127.0.0.1 at 2024-04-06 02:49:55 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"id_stud"=>"1", "course"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" INNER JOIN "participants" ON "participants"."course_id" = "courses"."id" WHERE "participants"."user_id" = ? LIMIT ? OFFSET ?[0m  [["user_id", 1], ["LIMIT", 50], ["OFFSET", 0]]
Completed 200 OK in 11ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 3435)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Tt8e141zn8Mecys6ny7G1uwioK51FwB.sjqg7AUFapzV6LbRRobaG"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:49:56.143578"], ["updated_at", "2024-04-05 23:49:56.143578"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$ACFhrIZ/qrsfv2fUd3rOAOnjH1wMxo7b0wUXz52VOKbSxP1KyzoeS"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:49:56.317137"], ["updated_at", "2024-04-05 23:49:56.317137"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$rr2jWsd/SXz1oi21WTZLWucDqkj3A/3KfxOwwgnz44ahVNy04lTQO"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:49:56.511270"], ["updated_at", "2024-04-05 23:49:56.511270"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:49:56.513218"], ["updated_at", "2024-04-05 23:49:56.513218"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-06 02:49:56 +0300
Processing by Api::SessionController#destroy as HTML
  Parameters: {"session"=>"session"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "jwt_validation" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["jwt_validation", "OcRLFBYiNRYONMVGUSpkJLkDtTkfmQzB"], ["updated_at", "2024-04-05 23:49:56.696912"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1093)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:49:56 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 306)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$z02PK9YirP//iM60p.fTHu6chNiipUIN.kW2M71CSopuVXmIMY9ma"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:49:56.883050"], ["updated_at", "2024-04-05 23:49:56.883050"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$2/Q3h.fisQyF/pFYduV34eYY8dEp78n16.JDxFcwLlCGeS1s.SdFS"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:49:57.056675"], ["updated_at", "2024-04-05 23:49:57.056675"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$RwMsOpWcnp91hYx6rWYi8.LSNQfr5LzN8mPYAqJ2aWX1IJJECgFCm"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:49:57.227890"], ["updated_at", "2024-04-05 23:49:57.227890"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:49:57.229969"], ["updated_at", "2024-04-05 23:49:57.229969"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:49:57 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 310)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-06 02:49:57 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 59)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$S9IEHSi7Xz453uWO3MjY1egRb6Np9tl7GtOzCsgOG8I5rdR68gVuq"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:49:57.579651"], ["updated_at", "2024-04-05 23:49:57.579651"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$Ge0fZSZAGEjiCzWseHBAOOjR3nSYWGLv0i1L6QVJ7iE4ZNsytlSoy"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:49:57.751176"], ["updated_at", "2024-04-05 23:49:57.751176"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$qOM1p0SqZ5xrjFBUKRdQIuYwRil16Q6zcp1LsH/qHeqxo1/CwrJEq"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:49:57.918554"], ["updated_at", "2024-04-05 23:49:57.918554"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:49:57.920322"], ["updated_at", "2024-04-05 23:49:57.920322"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-06 02:49:57 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$HHcRXpk0rOtQbOIVqyyd/ezXuDqjCbXfWbxQuJZ5nCXZrDUZ1a1H2"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:49:58.096565"], ["updated_at", "2024-04-05 23:49:58.096565"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$ISVSe1S1nnqSrdYIkDaneen4TO.ts8TeFfC1pBq/KODnaB7Qr73.2"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:49:58.266068"], ["updated_at", "2024-04-05 23:49:58.266068"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$U4I2EgbhWrUYjJOwuGLzEO6FdZzmrKRNjpnDaH9aylgP7Zhhn99MW"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:49:58.452301"], ["updated_at", "2024-04-05 23:49:58.452301"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:49:58.454077"], ["updated_at", "2024-04-05 23:49:58.454077"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-06 02:49:58 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-06 02:49:58 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$GKqQUZ5bnK6jbwjR7r52z.yJXJuK9PKbGXXxM1UiifprlB85LY2Dq"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:49:59.016749"], ["updated_at", "2024-04-05 23:49:59.016749"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$nZJN5uYc8OqFcHVv.Y5rLOQV3EO.2n.nW1jK75Jy/QBh3Jgcurvzq"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:49:59.186820"], ["updated_at", "2024-04-05 23:49:59.186820"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$b4oDwWGwBQb11EfWLrUFf.3nVjACG0U0L2p6XNkmT9oYFV74AUVCu"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:49:59.355772"], ["updated_at", "2024-04-05 23:49:59.355772"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:49:59.357528"], ["updated_at", "2024-04-05 23:49:59.357528"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:49:59 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 308)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-06 02:49:59 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$YU2mhvJuI2hxZyIf8m4IlurDkFX29tqQA7sACgsVyEmo6Tg0VyHuG"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:49:59.719576"], ["updated_at", "2024-04-05 23:49:59.719576"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$Y3duZurcHMWqgjipNxtwC.dBAcPtIXhQQxoswB7bwcQnoRx7b2Cjm"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:49:59.899821"], ["updated_at", "2024-04-05 23:49:59.899821"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$NbQERbkGFF7WjGnH3VXHCuYDjDtJA.Cs1mEI.D4nn19F2WHsGAwXi"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:50:00.082983"], ["updated_at", "2024-04-05 23:50:00.082983"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:50:00.084924"], ["updated_at", "2024-04-05 23:50:00.084924"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-06 02:50:00 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$MWXmV7E//G.N5JMgUm/54ejfQUtWGISqpSXqCeGefkLdJ7Ah1s6JW"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:50:00.273985"], ["updated_at", "2024-04-05 23:50:00.273985"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$wGhZqbFtSWmgxnqFIw1z2uCtHgNIn1Bqii0raDbezYeBTQLGix.me"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:50:00.447224"], ["updated_at", "2024-04-05 23:50:00.447224"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$NSB6mhyH39Ww6mz7qPpLlewtw17hqx0weiPS4d1ktm1ayh1Is5iny"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:50:00.619829"], ["updated_at", "2024-04-05 23:50:00.619829"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:50:00.621579"], ["updated_at", "2024-04-05 23:50:00.621579"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-06 02:50:00 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-06 02:50:00 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "participants"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "participants"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'participants';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$pQmyNt2OZ90wV5viQjyPn.2wmb2WYe4yBfGqsdHx56l0WkI/94zz."], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:50:19.588059"], ["updated_at", "2024-04-05 23:50:19.588059"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$BO65pUMTFyHOcP8/MLvlj.c//DyYsxGKo2mnsHEFmy6uHjLHt0w1."], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:50:19.764689"], ["updated_at", "2024-04-05 23:50:19.764689"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$wt7dufvLC.4jcz5s0ySI7eXG.2STakRCjvkHwuzgRyvLt0/eWlFR."], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:50:19.942051"], ["updated_at", "2024-04-05 23:50:19.942051"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:50:19.979192"], ["updated_at", "2024-04-05 23:50:19.979192"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:50:20 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:50:20.176460"], ["updated_at", "2024-04-05 23:50:20.176460"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 15ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 4320)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$DcXXMZ/DdvYWnPCw28A0/ekCO58VdKWQb8wvLqElIR5KuEM1g2s2K"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:50:20.361350"], ["updated_at", "2024-04-05 23:50:20.361350"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$gaS59q2XETE27uSrZZ/Ebe6JWS6ojcPQQGAquu4.XHPYOrbb11FWG"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:50:20.532440"], ["updated_at", "2024-04-05 23:50:20.532440"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$WW0yWwLfmUUatlAfzrU0q.qlr1s79j0JicGjyN32NFxY11LT07FxO"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:50:20.703615"], ["updated_at", "2024-04-05 23:50:20.703615"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:50:20.705761"], ["updated_at", "2024-04-05 23:50:20.705761"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?id_stud=1" for 127.0.0.1 at 2024-04-06 02:50:20 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"id_stud"=>"1", "course"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" INNER JOIN "participants" ON "participants"."course_id" = "courses"."id" WHERE "participants"."user_id" = ? LIMIT ? OFFSET ?[0m  [["user_id", 1], ["LIMIT", 50], ["OFFSET", 0]]
Completed 200 OK in 36ms (Views: 0.1ms | ActiveRecord: 3.6ms | Allocations: 3450)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$xO9SFM13rRNspsmik14PqeObyUackPNxI/0c/FVSFJvePKfuNCWLi"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:50:21.143035"], ["updated_at", "2024-04-05 23:50:21.143035"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$t5PDCBJcRg2j3DJZ2uQk..32DqPPEUHPSlI8bPhzC2fAj4vjHzM3G"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:50:21.329935"], ["updated_at", "2024-04-05 23:50:21.329935"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$1QMo7n.IzQ..5BjcnA9zeued6Md.03aFmRIklWvr/g4OyH0AzP/FO"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:50:21.514200"], ["updated_at", "2024-04-05 23:50:21.514200"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:50:21.515995"], ["updated_at", "2024-04-05 23:50:21.515995"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-06 02:50:21 +0300
Processing by Api::SessionController#destroy as HTML
  Parameters: {"session"=>"session"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "jwt_validation" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["jwt_validation", "VGRXQCGmsulfcPUBVNbAWqyHpygBvYkT"], ["updated_at", "2024-04-05 23:50:21.696623"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1093)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:50:21 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 305)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$HlQ.O2SC..VIRQLfYpWFmukKehNZmDK0puePQ.6jg0rWyRmvrtJJy"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:50:21.874803"], ["updated_at", "2024-04-05 23:50:21.874803"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$R6X7v3HXVyjaxgsycyRyueCpbrKdKRnCqHi2arFqcN1.xycw8pJQy"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:50:22.048719"], ["updated_at", "2024-04-05 23:50:22.048719"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$aK..XYdSmFrl4f5jZMVV7Ow3tsBweZSYMVnUdZEQaXPNklmFpeZxW"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:50:22.226468"], ["updated_at", "2024-04-05 23:50:22.226468"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:50:22.228301"], ["updated_at", "2024-04-05 23:50:22.228301"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:50:22 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 309)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-06 02:50:22 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 59)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$IBYpWjlndHT.bcUf/zr45OeBV82fjqSQbSogDEVG/CmzlfrK65vc."], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:50:22.576949"], ["updated_at", "2024-04-05 23:50:22.576949"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$l/qoGIrrTIKtUooVFBnYmOxL4NoGJ1VTjnBLaB7BlwMZYn4s.XEea"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:50:22.744743"], ["updated_at", "2024-04-05 23:50:22.744743"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$CLUZN/R4/gqFFK.sT7es3Oegu/tN5XYPNXG8yqCIj9J1r77cAM3HS"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:50:22.912831"], ["updated_at", "2024-04-05 23:50:22.912831"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:50:22.914678"], ["updated_at", "2024-04-05 23:50:22.914678"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-06 02:50:22 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$yuJgJRp79Ot/LvmUyZSoce9nEIvEiThsqtolbMGXRo.oSbuFW0ttG"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:50:23.092134"], ["updated_at", "2024-04-05 23:50:23.092134"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$kaSa5xvW66CdzjTZTs6tY.kP75jTFeY13mJ1/DLUzGPpf1GjqdEgS"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:50:23.266029"], ["updated_at", "2024-04-05 23:50:23.266029"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$cbz/1xEYjsLu0kxqivm.devPklrudhJx7UsgerXwN4/yW3Yn4GIgi"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:50:23.439357"], ["updated_at", "2024-04-05 23:50:23.439357"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:50:23.441180"], ["updated_at", "2024-04-05 23:50:23.441180"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-06 02:50:23 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-06 02:50:23 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$VDKsHOJyIJgujvFnIE1uY.CpKqR66HDdDVO0kwoVl0Xkd6Umao012"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:50:23.943880"], ["updated_at", "2024-04-05 23:50:23.943880"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$RNmuDoojgfQTar3LyToYs.e3Tq73BtQZASN0HkUTVHpszLrTCvVie"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:50:24.116654"], ["updated_at", "2024-04-05 23:50:24.116654"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$aaPTF7sQ35aKvT7RrSR26esQ3p6h88Xj2qrmOzCFgSIcpPkFKCwp2"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:50:24.285304"], ["updated_at", "2024-04-05 23:50:24.285304"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:50:24.287513"], ["updated_at", "2024-04-05 23:50:24.287513"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:50:24 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 307)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-06 02:50:24 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$sf.qiFz9GaiDTcXRKgqTXeZYlIFdrE.8URxeUCepjFPatI8nI2hUm"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:50:24.642381"], ["updated_at", "2024-04-05 23:50:24.642381"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$bNUiyohW2AzmfGh09Bd0IeqXtX629ABmfH6vrmaZz.ilMxHHcuLUW"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:50:24.810779"], ["updated_at", "2024-04-05 23:50:24.810779"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$VFfuMSBMJReQlJXZEmKDyOWSL5BsyphkzO1aPflhdVsQ1gft2K1D."], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:50:24.977331"], ["updated_at", "2024-04-05 23:50:24.977331"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:50:24.979067"], ["updated_at", "2024-04-05 23:50:24.979067"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-06 02:50:24 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$5OiC38.h8/12vx0vS1608.Os7f09Yewta.hcYg0kTtLfWWuBPIvzm"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:50:25.155877"], ["updated_at", "2024-04-05 23:50:25.155877"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$bxue3zC3sXyZZ6Z2OXiqNuM72LM7gXnBoxhzbPXuwKKdqSjjzWuHy"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:50:25.326502"], ["updated_at", "2024-04-05 23:50:25.326502"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$kfEWcIqu6KshEYDJyjVTperLOt9qTBQmQYk74dexjVFa1XHKVVGe6"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:50:25.498116"], ["updated_at", "2024-04-05 23:50:25.498116"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:50:25.499989"], ["updated_at", "2024-04-05 23:50:25.499989"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-06 02:50:25 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-06 02:50:25 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "participants"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "participants"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'participants';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$TSkFlwbVn2Foya25SeFSL.D6bhCgZHPgIR/J3vCV8roFKGNKAWbna"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:50:42.353813"], ["updated_at", "2024-04-05 23:50:42.353813"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$jBRrmpR17Q.YYq2LnBCSSucjAVfsYShPvqGRgiv1MOPFoycXLZMIu"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:50:42.525106"], ["updated_at", "2024-04-05 23:50:42.525106"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$FWUYbL9eHD7b4xgp6lpIPeFmqGccmXtvA7LUvnkc8UUcMV224PteK"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:50:42.693559"], ["updated_at", "2024-04-05 23:50:42.693559"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:50:42.730169"], ["updated_at", "2024-04-05 23:50:42.730169"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:50:42 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:50:42.926249"], ["updated_at", "2024-04-05 23:50:42.926249"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 14ms (Views: 0.3ms | ActiveRecord: 0.4ms | Allocations: 4320)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$HOOk7URh9ozpaJ9MEj.ruO7LwYEONGWaGSOkSrAcS62SmpOBJkFAG"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:50:43.133905"], ["updated_at", "2024-04-05 23:50:43.133905"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$3OZao51YXhbhD0f61IDkkOshrNLOlftEZYvWrY1RYsVSWozKDe7gS"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:50:43.324827"], ["updated_at", "2024-04-05 23:50:43.324827"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$cwhLOVcgFgcdNejBFoxe3evDdtlB31FQ0vYZBwDSyjhLIpp6d.Uqq"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:50:43.500288"], ["updated_at", "2024-04-05 23:50:43.500288"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:50:43.502235"], ["updated_at", "2024-04-05 23:50:43.502235"]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?id_teach=1" for 127.0.0.1 at 2024-04-06 02:50:43 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"id_teach"=>"1", "course"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ? OFFSET ?[0m  [["user_id", 1], ["LIMIT", 50], ["OFFSET", 0]]
Completed 200 OK in 6ms (Views: 0.8ms | ActiveRecord: 0.1ms | Allocations: 744)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (1.9ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$OA48NnVllX07/0VcJ1DsY.urKgQfDsKY/PInS57ckEAICnf5nYNE6"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:50:43.896645"], ["updated_at", "2024-04-05 23:50:43.896645"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$fPbrTm2mzZOJcfKvp4HPme9FE59ODuVTxtAbkHzSEU7dTPb6RKNEe"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:50:44.072386"], ["updated_at", "2024-04-05 23:50:44.072386"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$dxDetjQL6uZRpkzvb.sLWuqkKHfTufpy07soAFt6SkEhO6jvwC1bm"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:50:44.255025"], ["updated_at", "2024-04-05 23:50:44.255025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:50:44.256926"], ["updated_at", "2024-04-05 23:50:44.256926"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-06 02:50:44 +0300
Processing by Api::SessionController#destroy as HTML
  Parameters: {"session"=>"session"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "jwt_validation" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["jwt_validation", "QczdBzsiLnrEKYAYBjSRaaGlbBMasxTE"], ["updated_at", "2024-04-05 23:50:44.438672"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1071)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:50:44 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 305)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$0NaUheo.4o5IkJ3fsSQ3SetGo0YSweP7xevH0NhK/3taNQj9PMmIK"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:50:44.621325"], ["updated_at", "2024-04-05 23:50:44.621325"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$PYD0EAhO/YkwdqVQkSIAHew4pw4DC9I6n9u21ejqRZm8HqOAgcxBK"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:50:44.789601"], ["updated_at", "2024-04-05 23:50:44.789601"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$lKBmQBBO20MygvnEigv53u3CIrfAGUqWgl5kjiqgdYtZg2L/il39S"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:50:44.957909"], ["updated_at", "2024-04-05 23:50:44.957909"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:50:44.959818"], ["updated_at", "2024-04-05 23:50:44.959818"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:50:45 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 309)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-06 02:50:45 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 59)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$btkPl/euGLLgADq0.eqGMuHlfY5sH2pw3QZyJOx5mmKZEp4IvcA4u"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:50:45.311788"], ["updated_at", "2024-04-05 23:50:45.311788"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$m0t7hoIPhaziwTPIAZZdEeu/Nn82XBGaGW4p/kc6Fos0fGF1Fn1aG"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:50:45.487182"], ["updated_at", "2024-04-05 23:50:45.487182"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$W8Hwk8lpKwbxPtP0l6DKV.7P25GoN/6minF6Q7UnjMdtcj./Xfzma"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:50:45.658532"], ["updated_at", "2024-04-05 23:50:45.658532"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:50:45.660186"], ["updated_at", "2024-04-05 23:50:45.660186"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-06 02:50:45 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$uzh7JdAkJxI9//Qe.qZaBOEoWgOXdsWuRNGEHztBLhjT4xZYVI.d2"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:50:45.837741"], ["updated_at", "2024-04-05 23:50:45.837741"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$As1/LbOZ5Aw9QTF3k0KifOjSGSaLH6IWuUDJ6Pt/8NTcxXHajfpq2"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:50:46.011058"], ["updated_at", "2024-04-05 23:50:46.011058"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$O1dKLwMPy.cBoblzGj6ZXuIt3lCqLWeNhTEmcKKYfg7ArHecgIMIa"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:50:46.186243"], ["updated_at", "2024-04-05 23:50:46.186243"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:50:46.188037"], ["updated_at", "2024-04-05 23:50:46.188037"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-06 02:50:46 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-06 02:50:46 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$AIKa84CIhLeO08Qj/BMd5uxaC3JqbWfMdef.qlOSmDrwS9E4Hpkka"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:50:46.712074"], ["updated_at", "2024-04-05 23:50:46.712074"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$ubGW3YsCv1b.CffccJTCLuC2dl/k9/mcQzB2z.alL/CxYWW/ZpuiG"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:50:46.884448"], ["updated_at", "2024-04-05 23:50:46.884448"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$SJYW8QQJk4aZb0irKT9hh.bMpEOhlvjPEUBOopYPIqE5snhULUt92"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:50:47.056815"], ["updated_at", "2024-04-05 23:50:47.056815"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:50:47.058529"], ["updated_at", "2024-04-05 23:50:47.058529"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:50:47 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 307)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-06 02:50:47 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$c5e/wqY/6WXE4hR2QE/xBes3pMph7iQCUNpJTjKJCbCzqtMD8kSOa"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:50:47.405361"], ["updated_at", "2024-04-05 23:50:47.405361"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$j6lbteD90VawioVWMKxo4eQ/xTcck50Jx1I6EBWaVAeMgZYej/B0K"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:50:47.584785"], ["updated_at", "2024-04-05 23:50:47.584785"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$/BCcFklA.MXKUr1FPW78tO.di/LZdF0cul4qHRuyIiIRBahq5Ista"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:50:47.763418"], ["updated_at", "2024-04-05 23:50:47.763418"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:50:47.765756"], ["updated_at", "2024-04-05 23:50:47.765756"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-06 02:50:47 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$OdSv6U505tSVaYk3FNbivu/TF9q3VQz7270v6h7k06E0mNXL5OtDi"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:50:47.941899"], ["updated_at", "2024-04-05 23:50:47.941899"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$Kj09LynHWFVM7nLn7MnRp.c00TxSYK0Y5O/ZgcuL35HqmTZ.p6Ji."], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:50:48.117730"], ["updated_at", "2024-04-05 23:50:48.117730"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$1NtoOEHLQMIDopBtyfV4wuKkrvTNudio6sq8D3sQ3fxkmXU/MuRdW"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:50:48.292874"], ["updated_at", "2024-04-05 23:50:48.292874"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:50:48.294824"], ["updated_at", "2024-04-05 23:50:48.294824"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-06 02:50:48 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-06 02:50:48 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "participants"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "participants"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'participants';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$xMGUVKph0othUtJunt24BuRGAmgDNJt2dLMaGquHJhaxy8ux3v2Na"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:52:57.844795"], ["updated_at", "2024-04-05 23:52:57.844795"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$YBhzI201OEHqet18Vrxpu.OqEbdWjYkZCdQh7/YoQ6xPdm2L/Niuu"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:52:58.013477"], ["updated_at", "2024-04-05 23:52:58.013477"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$oHRM3l/CaxsOQ4Ft3MWKl.NOsrc5rsHkIXUNzfJHZVfbgEQeGRen6"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:52:58.180644"], ["updated_at", "2024-04-05 23:52:58.180644"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:52:58.219298"], ["updated_at", "2024-04-05 23:52:58.219298"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:52:58 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:52:58.425747"], ["updated_at", "2024-04-05 23:52:58.425747"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 16ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 4319)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$yre45jjlbjrk.yw2T2ICjexa09V2ofEh/hv4YSA3UFEtXEOqZNpNW"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:52:58.604393"], ["updated_at", "2024-04-05 23:52:58.604393"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$p3iH97c8MVvEgIFdrrgs/.7kXIgEShuI.9b/rBA0QJggzK1tO9cMC"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:52:58.773369"], ["updated_at", "2024-04-05 23:52:58.773369"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$YXZ0aFI4/1v1hedkKZn5puEbcRON7dWmcj/KizY4NvPhUqgQHbrme"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:52:58.948744"], ["updated_at", "2024-04-05 23:52:58.948744"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:52:58.950593"], ["updated_at", "2024-04-05 23:52:58.950593"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?id_teach=1" for 127.0.0.1 at 2024-04-06 02:52:59 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"id_teach"=>"1", "course"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms | Allocations: 1422)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$/Bm3DeqHm50hSWC5UM7LNeZfRJTTQ0spU6YGtl.7LgR/q0Lpx9WiK"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:52:59.300938"], ["updated_at", "2024-04-05 23:52:59.300938"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$4GcJDQpy02RcXbSlNjkO4u1M494DJhIWiuNoa06ulgeSREYfOCSxq"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:52:59.470979"], ["updated_at", "2024-04-05 23:52:59.470979"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$cLJpDN1Y2RIlXf82IpSxte1TAA7vTa3J2v3EP.q1.HeBvI9ftvTcS"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:52:59.661881"], ["updated_at", "2024-04-05 23:52:59.661881"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:52:59.663645"], ["updated_at", "2024-04-05 23:52:59.663645"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-06 02:52:59 +0300
Processing by Api::SessionController#destroy as HTML
  Parameters: {"session"=>"session"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "jwt_validation" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["jwt_validation", "RZzMbATrZqdXaSblnEeKtZxNyYIfVRfl"], ["updated_at", "2024-04-05 23:52:59.846452"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1092)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:52:59 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 305)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$MkbxNiQGNbIVxz9eEpyT2.sUbKrw2EPXLEZZxNKSUJJxxH7QvFZH2"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:53:00.022802"], ["updated_at", "2024-04-05 23:53:00.022802"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$vPvfVbH32zij69582NlKQOlGq9v1Clj14wWstZZk6POeg9nIR2rTy"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:53:00.200738"], ["updated_at", "2024-04-05 23:53:00.200738"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$StiXwoeQQPBi.poWKWH78OiypTlOYB8xwaHMyixcTHzzb.OEbjGFG"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:53:00.371216"], ["updated_at", "2024-04-05 23:53:00.371216"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:53:00.373059"], ["updated_at", "2024-04-05 23:53:00.373059"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:53:00 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 309)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-06 02:53:00 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 59)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$BYwUzYJJZY9xQCPNMAuepO2C6i3Lg0EFQkPja0Jzk0SZrheCn94o."], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:53:00.738168"], ["updated_at", "2024-04-05 23:53:00.738168"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$lUZow0CXK9iCwTDV22YAO.vEoiIsnoRbwanH7X9EY9GrGFjt1ObBa"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:53:00.911582"], ["updated_at", "2024-04-05 23:53:00.911582"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$riWL/EArF6JX3phRXz6zYugJI7y7AYIbmwZf01WOcQH/zIyh3JE.u"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:53:01.086074"], ["updated_at", "2024-04-05 23:53:01.086074"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:53:01.087745"], ["updated_at", "2024-04-05 23:53:01.087745"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-06 02:53:01 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Ip8MtuqTMTZ65hvOvzaVQuKJhCwUd2SAGP7IlBxoVy29BMpKxdmuq"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:53:01.275010"], ["updated_at", "2024-04-05 23:53:01.275010"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$dAyydovchzE7I8eZ3kUtU.yhpK0LeOhv4zx4wiy9GoFT4x.7p5J4W"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:53:01.449027"], ["updated_at", "2024-04-05 23:53:01.449027"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$eDkRPR87jGSLnuhLF1DrXOJvAJSBrLom6kH7L7p0Jkcn5rPTLo8CG"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:53:01.626728"], ["updated_at", "2024-04-05 23:53:01.626728"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:53:01.628405"], ["updated_at", "2024-04-05 23:53:01.628405"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-06 02:53:01 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-06 02:53:02 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$SEvTwStYNfutEmYZQ6G7COLj267ycIeYgjDgkyMci/5LBxFl/Qc.K"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:53:02.176635"], ["updated_at", "2024-04-05 23:53:02.176635"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$88wUilT.eoPAfWEoVTy9XON3Q7OHvBmlMPyYfGjdRPyWPtcqdE7UW"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:53:02.350438"], ["updated_at", "2024-04-05 23:53:02.350438"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$0vksmN9vxFMvEZW6IzhYv.VLxXhm0Jp/Ex5pCTnuzRzcWUzyWnOhG"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:53:02.524731"], ["updated_at", "2024-04-05 23:53:02.524731"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:53:02.526341"], ["updated_at", "2024-04-05 23:53:02.526341"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:53:02 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 307)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-06 02:53:02 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$NCe.QZMNAeVCy9khHhsEXupDI3qQPYuqTvCxSb0Bbvbm2Awr5MrkS"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:53:02.871341"], ["updated_at", "2024-04-05 23:53:02.871341"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$2dsajb0DRpT2T9vkv0.u3e6IeMWOmCsCC8Z8OGtD.bUBiBD46WtJ6"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:53:03.044901"], ["updated_at", "2024-04-05 23:53:03.044901"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$8Zi9jDx.J5UFKZSubW1eiOGgwVe0x4ajK3HEphlhWQsXGywqLbmR."], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:53:03.212608"], ["updated_at", "2024-04-05 23:53:03.212608"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:53:03.214875"], ["updated_at", "2024-04-05 23:53:03.214875"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-06 02:53:03 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$kyvOl.Z6fxo35ZZmtGf8xehgAlhJIhJjk95XqzkBuKKOPJs7gRbj6"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:53:03.391298"], ["updated_at", "2024-04-05 23:53:03.391298"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$4155xLa49jNNncoG2GGNy.s2d559JLTs42NWveG8MSrUmmNNUpYWy"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:53:03.573738"], ["updated_at", "2024-04-05 23:53:03.573738"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$TJ9IN5MzwlajEKceO2qoCOcmiS0RyH./pPMuEX3qTbxmSD75HClK2"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:53:03.745192"], ["updated_at", "2024-04-05 23:53:03.745192"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:53:03.746961"], ["updated_at", "2024-04-05 23:53:03.746961"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-06 02:53:03 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-06 02:53:04 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "participants"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "participants"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'participants';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Pow3yxwIdd27OL/TmoHN/uODtJw42QVWjpVi60sKL7g3gkk.y.oWG"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:54:27.962741"], ["updated_at", "2024-04-05 23:54:27.962741"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$puFRQIug9r67wfl5UmCFs.yzQrjXFuQLtFZRL/v3o2v9GnWUuO/iq"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:54:28.131120"], ["updated_at", "2024-04-05 23:54:28.131120"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$DclKOh.lR3XAZJEOQh80DeT5W6s2pFmgYbmeiwR9Zq491d39YRwAe"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:54:28.319115"], ["updated_at", "2024-04-05 23:54:28.319115"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:54:28.368550"], ["updated_at", "2024-04-05 23:54:28.368550"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:54:28 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:54:28.576503"], ["updated_at", "2024-04-05 23:54:28.576503"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 15ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 4271)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Vsyl5Ad3hknTbU.fInUxZO6vag17FGCrmF01fwM2NXm2EJ.w4ZZjS"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:54:28.763440"], ["updated_at", "2024-04-05 23:54:28.763440"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$ySGkqbgD/ZHeFGj0tzvHy.sh06P2GgnIB8x0TRK0BEFGEg9q8MaNO"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:54:28.951838"], ["updated_at", "2024-04-05 23:54:28.951838"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$7wQRGouxJSydT/cfKFGZhuS9iD44idaSVt8cQ7oxXOzoNCpxfMn56"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:54:29.140199"], ["updated_at", "2024-04-05 23:54:29.140199"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:54:29.142075"], ["updated_at", "2024-04-05 23:54:29.142075"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?id_teach=1" for 127.0.0.1 at 2024-04-06 02:54:29 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"id_teach"=>"1", "course"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms | Allocations: 1403)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$f3jLhuK1RTHLOWJkBDS0IOzdhGMwN2ni.PixFJpKaAoQ0XaPHNnDe"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:54:29.529643"], ["updated_at", "2024-04-05 23:54:29.529643"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$cGrPsxwPQTkIVaNbQ0C0MuLjTn2p9kV3cN7rwYI6dfXn8rfIW2poW"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:54:29.710889"], ["updated_at", "2024-04-05 23:54:29.710889"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$xUxSmrqaYGYN55KEnDcFMO1RESuKOVXpGuaWfAX2vnkLRxYQxfe0a"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:54:29.882352"], ["updated_at", "2024-04-05 23:54:29.882352"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:54:29.884120"], ["updated_at", "2024-04-05 23:54:29.884120"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-06 02:54:30 +0300
Processing by Api::SessionController#destroy as HTML
  Parameters: {"session"=>"session"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "jwt_validation" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["jwt_validation", "FbYSLjkAodNFSWdUJOPAmYJNgUDSPpdu"], ["updated_at", "2024-04-05 23:54:30.070318"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 12ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1068)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:54:30 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 305)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$yQ8niD58KcrBQk1zYiAnZ.mUe4DirGFWiP9mPKwgot9KwkiVxYhfm"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:54:30.247314"], ["updated_at", "2024-04-05 23:54:30.247314"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$BEdyUMunjSTbhZV2HusMbO9YMAyu3e9qbU9C0MfrCzEMPjYbJhHXm"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:54:30.418487"], ["updated_at", "2024-04-05 23:54:30.418487"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$q87xACFi0sCMzUwYcLynl.Hm4lwxBLC7nuAq/eRVb/1JMVYjk3gAW"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:54:30.595732"], ["updated_at", "2024-04-05 23:54:30.595732"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:54:30.598007"], ["updated_at", "2024-04-05 23:54:30.598007"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:54:30 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 309)
  [1m[36mCourse Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-06 02:54:30 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 59)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$vrKoUbL8ru0cGjnMd6OR1.1L1AfnFLDesqGSyFjxhh9kxDeLwz1Wy"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:54:30.960701"], ["updated_at", "2024-04-05 23:54:30.960701"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$FvBxHxtRTo6AZ97mmwEt/OZzQrjy.djTSyd11sWeCp/G1htZ1n8/W"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:54:31.131502"], ["updated_at", "2024-04-05 23:54:31.131502"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$OlCrq6UrcIUyu56prwrd2OQlNSlqROkai5AByElUKEfHdglU64oR2"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:54:31.303166"], ["updated_at", "2024-04-05 23:54:31.303166"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:54:31.304896"], ["updated_at", "2024-04-05 23:54:31.304896"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-06 02:54:31 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$OVD9xTJPSeDPKloU4NH31uMzkP44TOTLL5zn5vEgXEOGdfgrgRd7K"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:54:31.481665"], ["updated_at", "2024-04-05 23:54:31.481665"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$PyKulMn5iK5AmvRiiYMp6u6PmSfcv86EN/t.OGonSbsk0kylaS9JS"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:54:31.654289"], ["updated_at", "2024-04-05 23:54:31.654289"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$oGi5VZthV0a98LdXcjxwQuDLfRKvO0bDE78mt8mJLV.bcxUPJq4x."], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:54:31.835809"], ["updated_at", "2024-04-05 23:54:31.835809"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:54:31.837789"], ["updated_at", "2024-04-05 23:54:31.837789"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-06 02:54:32 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-06 02:54:32 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$XwpUHB6fV1TL8RKpVogg4.qsNcoVAlUlZlBerQYGXvqXRchAgbeXa"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:54:32.368355"], ["updated_at", "2024-04-05 23:54:32.368355"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$j5CvkB6v3ThD7mzSc2Zjz.yjugBx0yz2cflBTte3k7D6BD.3Yazfi"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:54:32.540845"], ["updated_at", "2024-04-05 23:54:32.540845"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$I5VSYRzvbCBXUaThcP63BO2qVVgUsbM9LB0/yQ7FNnDZ4ZpROqxGK"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:54:32.709052"], ["updated_at", "2024-04-05 23:54:32.709052"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:54:32.710736"], ["updated_at", "2024-04-05 23:54:32.710736"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:54:32 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 403 Forbidden in 4ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 307)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-06 02:54:32 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$w.l6APeoLuPRRCBVqtZzU.eIIFRbrM2AABLhnMNDYdR2Y2wWU8yuu"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:54:33.068822"], ["updated_at", "2024-04-05 23:54:33.068822"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$7OE/iw63s0xzNpxY.VNDW.cJyLurBKj.Av88k6OUhLSTNtmOoI9s2"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:54:33.237952"], ["updated_at", "2024-04-05 23:54:33.237952"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$HD.SwGSiQMnp8B56KWNXouRBlRHysS93nixlhQ0NBTqriYfXZcw/S"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:54:33.406886"], ["updated_at", "2024-04-05 23:54:33.406886"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:54:33.408911"], ["updated_at", "2024-04-05 23:54:33.408911"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-06 02:54:33 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$p45DN6fMGscTUtc09oJ6pOnrtzsXYGHEg5Ydcv801zBIKumdzZt0y"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:54:33.589479"], ["updated_at", "2024-04-05 23:54:33.589479"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$GzCFot4gvUevXF/.vE3ADuWZvcAnqvwuOi5XUP2TyUdjth2K5kiWO"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:54:33.759332"], ["updated_at", "2024-04-05 23:54:33.759332"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$5MQYmgNxemZGMC4U4IfIIOuphltZZqQuYt2.f/axAqfgcJ/txw1/u"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:54:33.930572"], ["updated_at", "2024-04-05 23:54:33.930572"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:54:33.932504"], ["updated_at", "2024-04-05 23:54:33.932504"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-06 02:54:34 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-06 02:54:34 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (2.0ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "participants"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "participants"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'participants';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$NAyUjomfiEeqCDsJKmUEA.Ax3v2BF1HVgDjt0bhx2doOp9nbbobYu"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:55:48.771268"], ["updated_at", "2024-04-05 23:55:48.771268"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$s8ZH2k6DD7lMYUCs5wnmnu7vivQ5.XCNgyhtDVK2FRT5c6dpotsiO"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:55:48.938358"], ["updated_at", "2024-04-05 23:55:48.938358"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$Rfn9hwTQRKAL6RLOXc.v9OQjF4aPp890QDGftf4Q.2RlskS9dmA7q"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:55:49.110470"], ["updated_at", "2024-04-05 23:55:49.110470"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:55:49.162544"], ["updated_at", "2024-04-05 23:55:49.162544"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:55:49 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:55:49.363421"], ["updated_at", "2024-04-05 23:55:49.363421"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 14ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 4325)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$w9gB.oMAW0ZrH5bU5Yk5feNXKDu4qtdk5gQ43w04i.IK3SBG6z3TS"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:55:49.541531"], ["updated_at", "2024-04-05 23:55:49.541531"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$d9XaontUKw1CCZ6eOrGTnOffaDIUoSybb9PCGcYWjakPRKEPghwKO"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:55:49.717097"], ["updated_at", "2024-04-05 23:55:49.717097"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$weGUZhkWu6az0.76CBRPFeyf3h1HRsMJejksLmcW45n/0LDfNzVSG"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:55:49.886241"], ["updated_at", "2024-04-05 23:55:49.886241"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:55:49.888552"], ["updated_at", "2024-04-05 23:55:49.888552"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?id_teach=1" for 127.0.0.1 at 2024-04-06 02:55:50 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"id_teach"=>"1", "course"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" INNER JOIN "users" ON "users"."course_id" = "courses"."id" WHERE "courses"."user_id" = ? LIMIT ? OFFSET ?[0m  [["user_id", 1], ["LIMIT", 50], ["OFFSET", 0]]
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.2ms | Allocations: 1918)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$gUG5mSpVguwYxIf7iYVtHO14Z1FNro9JCer3F2T3fTe/w8hSGPoD2"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:55:50.245847"], ["updated_at", "2024-04-05 23:55:50.245847"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$OoYFkiVaqbrA94lKbkHSbe2O9kkaBI1QBWdy5MgQgMFR1wTEICi1."], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:55:50.435826"], ["updated_at", "2024-04-05 23:55:50.435826"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$0MLZaitu1ILldzngnrJOe.VoMMy91XPYT5LeZcO5TzasTzyvBa.OC"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:55:50.612101"], ["updated_at", "2024-04-05 23:55:50.612101"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (10.0ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:55:50.613780"], ["updated_at", "2024-04-05 23:55:50.613780"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-06 02:55:50 +0300
Processing by Api::SessionController#destroy as HTML
  Parameters: {"session"=>"session"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "jwt_validation" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["jwt_validation", "SOCzgqixYyYZcvdZylqiExkJuXPgPfYt"], ["updated_at", "2024-04-05 23:55:50.823201"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 17ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 1092)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:55:50 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 305)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$YZA4oRdtfEnV7FJCtnRAVO42.08g3yinaGE8cRHVCErtz4.ev4MvS"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:55:51.003724"], ["updated_at", "2024-04-05 23:55:51.003724"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$/nz2QtW318ERn4N/nJtUgeusEaTltDUblLMc833UWtNRGIsMm0gmO"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:55:51.175013"], ["updated_at", "2024-04-05 23:55:51.175013"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$JuxnsfbezCIIvgNwWM.arOVVV6xRGFGYNm.g7CTM0qRwm03awXtde"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:55:51.346768"], ["updated_at", "2024-04-05 23:55:51.346768"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:55:51.348809"], ["updated_at", "2024-04-05 23:55:51.348809"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:55:51 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 309)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-06 02:55:51 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 59)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$CcdXHt6ZCXr0eU9jD8Kfm.EoL4OyazjdsjnReklTm8TydUNvWf99y"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:55:51.712041"], ["updated_at", "2024-04-05 23:55:51.712041"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$0MzYmpY0g4rDYFF/ceWvxuuaUjeH7tkUR8GMIoLX7EbMjbZcyKZ5m"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:55:51.889287"], ["updated_at", "2024-04-05 23:55:51.889287"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$qQ9gUwD/hJFSwk2ATargKe3EI8Yjxepu8Ep0kc0Fg1LYhcVBc1YSG"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:55:52.082866"], ["updated_at", "2024-04-05 23:55:52.082866"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:55:52.085174"], ["updated_at", "2024-04-05 23:55:52.085174"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-06 02:55:52 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$gJZx3sy8voc8qGsK69a2RuTtewY6Fw9QaGHxkvaAfkFpKwXqvJEUm"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:55:52.352134"], ["updated_at", "2024-04-05 23:55:52.352134"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$1klN81yMr03uEgs.DwsYiepp4ZLOhuvaE6iibP/b59IcG8S3LqLM6"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:55:52.644308"], ["updated_at", "2024-04-05 23:55:52.644308"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$uIX8/F8so9v6zlmzVaMss.yeffQ3jD6zsySYZs2dr1kI0TpOzvBwO"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:55:52.837344"], ["updated_at", "2024-04-05 23:55:52.837344"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:55:52.840317"], ["updated_at", "2024-04-05 23:55:52.840317"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-06 02:55:53 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-06 02:55:53 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$hynKwtqlKrOQUTvTLvi9CeBlNzfRJTCgWukH9oeqXMYOcti5bh3t6"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:55:53.674318"], ["updated_at", "2024-04-05 23:55:53.674318"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (4.0ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$L5N0UHBPp5yM1v3llbLaUeUjsxPK0kSdHfAnFB78Bfy5TnPpHYlkq"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:55:53.873879"], ["updated_at", "2024-04-05 23:55:53.873879"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$5yl.060lllKHkDgLvkxiJ.wJR6wu0HRZoGUUQQAv/QW3l6OHzZuT2"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:55:54.059451"], ["updated_at", "2024-04-05 23:55:54.059451"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:55:54.061592"], ["updated_at", "2024-04-05 23:55:54.061592"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:55:54 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 307)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-06 02:55:54 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$0ZrxipOyr7C/oBYE8kbkme2aGOL11RqamkdbEM3gajQ4W/6/YCETe"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:55:54.427041"], ["updated_at", "2024-04-05 23:55:54.427041"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$xneKUfMz6LXH1gUVPmFeieCBJP.ax8zLqjogJrBJqJSGE.GqGg5cy"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:55:54.603603"], ["updated_at", "2024-04-05 23:55:54.603603"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$zM1x0DoR801VTqAhCuQAU.uYOZPfsdKkTa4p6MTpF7wz54HVk0w2q"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:55:54.779806"], ["updated_at", "2024-04-05 23:55:54.779806"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:55:54.782435"], ["updated_at", "2024-04-05 23:55:54.782435"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-06 02:55:54 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$szi8XB11oM9qWUn6z/Uj8u1WI/HGaPdUBrp39NK/SeNyrnt7fFbQO"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:55:54.966977"], ["updated_at", "2024-04-05 23:55:54.966977"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$YR.bPTpMGMc99nD7WWF9.OnVwiqrYB6eiHKJOZyexP/999XWOTsEW"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:55:55.143081"], ["updated_at", "2024-04-05 23:55:55.143081"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$vvrgJ9tUcBrxO6fFGTcS1.FL49qUjE9zmlr.gI4CACjQ8PkSjhwNO"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:55:55.328706"], ["updated_at", "2024-04-05 23:55:55.328706"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:55:55.330676"], ["updated_at", "2024-04-05 23:55:55.330676"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-06 02:55:55 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-06 02:55:55 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "participants"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "participants"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'participants';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$clMvYxjkJYdIlgcRHPBzeOhho5rMdH4UmMtkWOPmvU1lSQlGqGApK"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:57:48.079061"], ["updated_at", "2024-04-05 23:57:48.079061"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$/EtU1yNwjX/VqHWVAwwW0ubqIktcdEJJqg6aDMvFvwWRcqJRPjQVm"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:57:48.258948"], ["updated_at", "2024-04-05 23:57:48.258948"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$mIHywO1T6Yrd/3YfOFbTwe0W2OBGmunPZWS4zRbPaWL3DbcWlHWCm"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:57:48.429837"], ["updated_at", "2024-04-05 23:57:48.429837"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:57:48.469238"], ["updated_at", "2024-04-05 23:57:48.469238"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:57:48 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:57:48.661685"], ["updated_at", "2024-04-05 23:57:48.661685"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 16ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 4319)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$vaF3yH3vPlPIL9s2T.Omy.JIFk52dFTcOCF9IdNROJvMxd3xF/ml2"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:57:48.840511"], ["updated_at", "2024-04-05 23:57:48.840511"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$TCcSfsXjD0kAOV5ixzL4GOE4hL6f/fQRlYZSK5Fxpc5GlAZBFVcgO"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:57:49.010513"], ["updated_at", "2024-04-05 23:57:49.010513"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$dbezpAbPb9midbvAayQuQOMcM3DqNLKiWF0P6WBSroI0/hYOdOkvy"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:57:49.179714"], ["updated_at", "2024-04-05 23:57:49.179714"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:57:49.181551"], ["updated_at", "2024-04-05 23:57:49.181551"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?id_teach=1" for 127.0.0.1 at 2024-04-06 02:57:49 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"id_teach"=>"1", "course"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms | Allocations: 1412)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$QryqsO9YWYfDGH6I2kery.bNWLAw.5wwoZkcTaH2JKGbi6OfuMTBW"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:57:49.541605"], ["updated_at", "2024-04-05 23:57:49.541605"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$njkgTwkTk6DS2riz1AKcfOozr/e/UdoJJYNLVkH4vF/hB.I1H3E3C"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:57:49.710329"], ["updated_at", "2024-04-05 23:57:49.710329"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$G.TXgDIbRipVgQPmvPxtKO7OCL9fVlYE1H7vJVPuYvIwxrnVgoLfS"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:57:49.895346"], ["updated_at", "2024-04-05 23:57:49.895346"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:57:49.898244"], ["updated_at", "2024-04-05 23:57:49.898244"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-06 02:57:50 +0300
Processing by Api::SessionController#destroy as HTML
  Parameters: {"session"=>"session"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "jwt_validation" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["jwt_validation", "psQFexbwelOcJhlUkMkZmschewxxnDGp"], ["updated_at", "2024-04-05 23:57:50.083697"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1051)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:57:50 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 305)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$B.6EnJY3WtCXEzuVe8rV4uKCg7ipI6MZ7McoNGda3hS5seaupCBly"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:57:50.262026"], ["updated_at", "2024-04-05 23:57:50.262026"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$41Nupi/fazNUws5yV2K.vO3JQOKtEK.LXgIb8o5giLHw.8B0FmeFu"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:57:50.434569"], ["updated_at", "2024-04-05 23:57:50.434569"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$v.1XzkkX0fpU6yf.z9XLYufyOPck4a4nDY9R8UnZ52DCAI6/PWErm"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:57:50.613592"], ["updated_at", "2024-04-05 23:57:50.613592"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:57:50.615329"], ["updated_at", "2024-04-05 23:57:50.615329"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:57:50 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 309)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-06 02:57:50 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 59)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$D4JJGu0.6hpPZqETBF3U8e5WjInp65KeBnjfLHavGdGW73VMAhx8W"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:57:50.975069"], ["updated_at", "2024-04-05 23:57:50.975069"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$StF1sjlq/EuNVnoxI35VOuZ/hRf2n2KwSfBkt.QxvM514NjSlWon6"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:57:51.146478"], ["updated_at", "2024-04-05 23:57:51.146478"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$uGj4TyGyOSDyFx2sp.vhg.s7Wsgvotj0PqQprwn6741b4PS0YKOcm"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:57:51.318628"], ["updated_at", "2024-04-05 23:57:51.318628"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:57:51.320983"], ["updated_at", "2024-04-05 23:57:51.320983"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-06 02:57:51 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$xX.Pa6/czdiwnYKgOhVbGOnCCkt3o4vF5gYgDGEtOH5n./HIjeScO"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:57:51.497562"], ["updated_at", "2024-04-05 23:57:51.497562"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$WDF5BZoB0kedx2hjfB2Ul.a6gIkvxelIG2EDZwqraK0Ai1kthIM7u"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:57:51.670528"], ["updated_at", "2024-04-05 23:57:51.670528"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$Gc0BXNl4fIzhAvto/LJyXe2KaFdW/GYo0htSpj2xpyNP0aW30DX1i"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:57:51.843842"], ["updated_at", "2024-04-05 23:57:51.843842"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:57:51.845421"], ["updated_at", "2024-04-05 23:57:51.845421"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-06 02:57:52 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-06 02:57:52 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$G12dX7is6IUHIqLEE7rk/O.tOtPElGb7wZKL6tB89vv/D6pDmvvWm"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:57:52.352455"], ["updated_at", "2024-04-05 23:57:52.352455"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$fSIIEQYPLd9gil5DJ6LVXugxw50578ImpK1yi.WKamroZINeNVxDu"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:57:52.522702"], ["updated_at", "2024-04-05 23:57:52.522702"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$nvQ3/4KzFDFSMT.q1upiqu5lWMT3QfPyXz3IW9.XfsFT3iCT8Dy6G"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:57:52.691436"], ["updated_at", "2024-04-05 23:57:52.691436"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:57:52.693489"], ["updated_at", "2024-04-05 23:57:52.693489"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:57:52 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 307)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-06 02:57:52 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$1TOV.hjm9qpSyekqYbNfrueU.PlUiwTXZj5RUW4Na9E22kOJ6DazC"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:57:53.045420"], ["updated_at", "2024-04-05 23:57:53.045420"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$hIQepbYK3TTJohm7m3.ceuSVhrOaCnaNJ5orE01Ly6G6AkFh4/NEi"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:57:53.215386"], ["updated_at", "2024-04-05 23:57:53.215386"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$bAodSjV1qpS4fgPBuQaFOuDRuXX.z1OGfg41zklDRl10rDxTYg5ly"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:57:53.384594"], ["updated_at", "2024-04-05 23:57:53.384594"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:57:53.386263"], ["updated_at", "2024-04-05 23:57:53.386263"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-06 02:57:53 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$f43zjtRqD1/9ET6c69ius.WfEq6o/NqOGXhd6H5OVj89sfqY7nGj."], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:57:53.560993"], ["updated_at", "2024-04-05 23:57:53.560993"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$7nEI2C/2ixxEgEG4cchPQe5BphnxttwnXHLQArBXNta3O07s37X5."], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:57:53.731038"], ["updated_at", "2024-04-05 23:57:53.731038"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$jT/ngaAjRTM2XKm0iI50SenUloTPIpjZMwZs/ENXe08c8D8qy1vHe"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:57:53.898706"], ["updated_at", "2024-04-05 23:57:53.898706"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:57:53.900402"], ["updated_at", "2024-04-05 23:57:53.900402"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-06 02:57:54 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-06 02:57:54 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "participants"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "participants"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'participants';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$CUVg3aSsLR4sEkS2Cwko8.N34Ksqza6/q4ZkZnIaANCGZDyzVKbay"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:59:41.204253"], ["updated_at", "2024-04-05 23:59:41.204253"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$P0FjFFGnLDkfouoDMs8u6usxgZofwyUSkNFsT.Q8.UCIj9zdYnt5."], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:59:41.379741"], ["updated_at", "2024-04-05 23:59:41.379741"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$etDnupYDglfka7C9Ou0X5u9IaZS2hpZCld6EWSW9ut/0F6jEn02e2"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:59:41.553490"], ["updated_at", "2024-04-05 23:59:41.553490"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:59:41.589936"], ["updated_at", "2024-04-05 23:59:41.589936"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:59:41 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:59:41.790080"], ["updated_at", "2024-04-05 23:59:41.790080"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 27ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 4319)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$121HtKQhIueTIUGiufHjQOmexzo/e2ldzkeUITKWeYTdMXZ84zgLC"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:59:41.986572"], ["updated_at", "2024-04-05 23:59:41.986572"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$e4nrxM0R5YL/7Jlit6G0S.melSztXV63dTKl8S0T.6ZVIEsu3k.lu"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:59:42.156334"], ["updated_at", "2024-04-05 23:59:42.156334"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$X3AGaR.OYXQf9S7Eb4qCL.QkgKg/2rskzrKyKiSr64JsWcje0bzPK"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:59:42.326202"], ["updated_at", "2024-04-05 23:59:42.326202"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:59:42.327867"], ["updated_at", "2024-04-05 23:59:42.327867"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?id_teach=1" for 127.0.0.1 at 2024-04-06 02:59:42 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"id_teach"=>"1", "course"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms | Allocations: 1393)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$50M9Ayw0j7tekTjnKV/p9OIU7v.MHFoEd1xw6FYwW384dKT6bjajO"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:59:42.678049"], ["updated_at", "2024-04-05 23:59:42.678049"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$4NTa8xP/SZ36tf2dgfZDMOFJid7RO4TnHzZmYxGqhmEWoorlb9Hf."], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:59:42.848947"], ["updated_at", "2024-04-05 23:59:42.848947"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$PGaNK.QXSFLeE3TAmwnU/.4SHTHm4b6tLlsePW.DT8O6QM7UHxNeS"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:59:43.032528"], ["updated_at", "2024-04-05 23:59:43.032528"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:59:43.036553"], ["updated_at", "2024-04-05 23:59:43.036553"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-06 02:59:43 +0300
Processing by Api::SessionController#destroy as HTML
  Parameters: {"session"=>"session"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "jwt_validation" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["jwt_validation", "UxAdbgRDszsTsEGMZLzqIihwTTUUpIkm"], ["updated_at", "2024-04-05 23:59:43.226506"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1075)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:59:43 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 305)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$WmNW1Ck3/2qj4RU4.ZDSJOujyM8Ws9b8UPahsg8rjcq3O0fmnr5Me"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:59:43.403545"], ["updated_at", "2024-04-05 23:59:43.403545"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$hcu4HKce9sdiiUlwCZCg6u/t.WgQBHgX6IiQZYD575T0gJAi1o0vS"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:59:43.573306"], ["updated_at", "2024-04-05 23:59:43.573306"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$3RmKyJ0mKWmEQLufjNlp6uhrfPQMGNFnhgTrgLin5ciZpgTjv4t2i"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:59:43.744169"], ["updated_at", "2024-04-05 23:59:43.744169"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:59:43.746229"], ["updated_at", "2024-04-05 23:59:43.746229"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:59:43 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 309)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-06 02:59:43 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 59)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Wdxh.Qw4iZWiPGREINHJSemX0XJlaUUxbHhKY57vuEHaPK.go9cG6"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:59:44.115487"], ["updated_at", "2024-04-05 23:59:44.115487"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$gvmiLX7e/8QYanfQCwIk/Or.X8Ip.czEog5GUWdPQSJrpH9LAIH4i"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:59:44.285709"], ["updated_at", "2024-04-05 23:59:44.285709"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$2Mtn3aRw6./Xjv4299nRy.agTDZ1H2DokA4PXNta5EILtfyfUG1wC"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:59:44.452894"], ["updated_at", "2024-04-05 23:59:44.452894"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:59:44.454849"], ["updated_at", "2024-04-05 23:59:44.454849"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-06 02:59:44 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$a6X7uS/O0qf1CHF5vRuz7uIEtEw4HjEjU2O4EQ.Zo2qKp2ye.w1Hu"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:59:44.631523"], ["updated_at", "2024-04-05 23:59:44.631523"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$l4GDCRfXN6ZCbwwZOC1bGeCbfuzmPRmC/jC6Ug108cjFNouivGSKK"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:59:44.798405"], ["updated_at", "2024-04-05 23:59:44.798405"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$eZhNY1YdNWGBo0v7SZGX5.M6PePjl7y1TzdyxLVncVjqwymsda8xK"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:59:44.967114"], ["updated_at", "2024-04-05 23:59:44.967114"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:59:44.968879"], ["updated_at", "2024-04-05 23:59:44.968879"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-06 02:59:45 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-06 02:59:45 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$PeJVMURNnNeTckcZcDID6.FokkMcR.xL9rEcwJhATsOav.ahNs/hu"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:59:45.516480"], ["updated_at", "2024-04-05 23:59:45.516480"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$gP70pgAEa3kEJeSfPJcviOzCGeCI88OGn8HrExVaVycdXlc2Mifu."], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:59:45.686685"], ["updated_at", "2024-04-05 23:59:45.686685"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$ypwcsPzrUfqt3bOG5BkTq.b36GgHAJ0zFemBqvM.jPUR5n8NJAU/i"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:59:45.857052"], ["updated_at", "2024-04-05 23:59:45.857052"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:59:45.858858"], ["updated_at", "2024-04-05 23:59:45.858858"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 02:59:46 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 307)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-06 02:59:46 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$dmHpdAcJmPdG/yuvcN5vJOTmGAoEbSUyfFESuW7wf/c92xSp0JVwS"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:59:46.208254"], ["updated_at", "2024-04-05 23:59:46.208254"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$rFzb9znxBhD75Oqg1lsvpeIpPmaSmv7RZoYsyD7W..G0H3FjB0bnq"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:59:46.378853"], ["updated_at", "2024-04-05 23:59:46.378853"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$c72LyrH6SKIfhRSefXu4QuGhAW5VPnLLhSnB6BH4snESbVwVx4IaS"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:59:46.553057"], ["updated_at", "2024-04-05 23:59:46.553057"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:59:46.554749"], ["updated_at", "2024-04-05 23:59:46.554749"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-06 02:59:46 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$qZYh4CF7YfKZHd22GR4yPuJV9IGuMgdeM95FCOYs.0kEmb94F8.RS"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-05 23:59:46.734932"], ["updated_at", "2024-04-05 23:59:46.734932"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$3XXAxpXOlLT2Np3NsmdBgev0SyfHj4TRdVU09y8HCugGZE5aX3pNq"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:59:46.906747"], ["updated_at", "2024-04-05 23:59:46.906747"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$NW5VdZIt6qxuc666isEmaeN796VkqLJEyoC8P9K7XWZsAM6Brrt6W"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-05 23:59:47.078167"], ["updated_at", "2024-04-05 23:59:47.078167"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-05 23:59:47.079802"], ["updated_at", "2024-04-05 23:59:47.079802"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-06 02:59:47 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-06 02:59:47 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "participants"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "participants"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'participants';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$c42ppsGbFh2Y4iWmXZEPBOPj6Yj7jXLlTy29PGcWP.15nlQEpWMlS"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-06 00:02:59.754704"], ["updated_at", "2024-04-06 00:02:59.754704"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$/sr35eQTKOP8oQ24VWAZG.WUQkX66jiMUszWtOAB2WC6LGsQjo8Fa"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:02:59.931562"], ["updated_at", "2024-04-06 00:02:59.931562"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$BpiqlAfCS4BSD.NNC0Uur.SIkxazewh4bkUWxqibpnbpcpixLdXnO"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:03:00.104407"], ["updated_at", "2024-04-06 00:03:00.104407"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-06 00:03:00.142197"], ["updated_at", "2024-04-06 00:03:00.142197"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 03:03:00 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-06 00:03:00.353252"], ["updated_at", "2024-04-06 00:03:00.353252"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 15ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 4320)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$CYTFmck4o7ZmG6ghELOf1eIT6Z3/Lnf.nY7dXQCYb65PRGFNhNdSW"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-06 00:03:00.535963"], ["updated_at", "2024-04-06 00:03:00.535963"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$RF8Up52UqbZYOWtt.3.8DukjUl6D60hEjWs87UdaqEjUZ.OA3xNcC"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:03:00.705628"], ["updated_at", "2024-04-06 00:03:00.705628"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$jLdZQX6xYztmIdEZsswscOfpG9rso7Pq7jMtZSHjY2yNtGa60tpTC"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:03:00.879674"], ["updated_at", "2024-04-06 00:03:00.879674"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-06 00:03:00.882467"], ["updated_at", "2024-04-06 00:03:00.882467"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?id_teach=1" for 127.0.0.1 at 2024-04-06 03:03:01 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"id_teach"=>"1", "course"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.0ms | Allocations: 1402)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$YDRgHVnOSBLh0A6xU1RTveo2Y3dpPEUkR0ArDqjVZ8HwJdpkVn06u"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-06 00:03:01.250974"], ["updated_at", "2024-04-06 00:03:01.250974"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$3EQtMD.UJu/yK9KeNh2Ue.a/6p7ZWv4hhNAzEdJI1NrtcqPtrMGvC"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:03:01.435666"], ["updated_at", "2024-04-06 00:03:01.435666"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$PN5xs4Rb0q1Qi8Nf.aETwuJa1hQHuZaeqRkyvMkkTsYzc.Vu8Ea.6"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:03:01.630987"], ["updated_at", "2024-04-06 00:03:01.630987"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (1.6ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-06 00:03:01.637207"], ["updated_at", "2024-04-06 00:03:01.637207"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-06 03:03:01 +0300
Processing by Api::SessionController#destroy as HTML
  Parameters: {"session"=>"session"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "jwt_validation" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["jwt_validation", "BKWZmqzpUUPMWEkSSAqNiXGknlvwrRTI"], ["updated_at", "2024-04-06 00:03:01.831875"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1075)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 03:03:01 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 305)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Q.lBNlg9JzcfK858tepj/ugW/NJk5LX7yQJTfAiM7f48n3yGqZVji"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-06 00:03:02.015170"], ["updated_at", "2024-04-06 00:03:02.015170"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$QHOvhsSFfZZNghJELO4AcOnn.EXmS5gESMLpahnlpAPn3P/VXyVPW"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:03:02.189088"], ["updated_at", "2024-04-06 00:03:02.189088"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$WvqqLKZkz94coPCQrx0fgOOZjtJt2NrGKXSlh1e0NjdwNcPcybQbe"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:03:02.360956"], ["updated_at", "2024-04-06 00:03:02.360956"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-06 00:03:02.362728"], ["updated_at", "2024-04-06 00:03:02.362728"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 03:03:02 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms | Allocations: 309)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-06 03:03:02 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 59)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$oKXC18pq3Eh.8LRLl.WbhudAzEi9tjytSx0etETnkE0KCJd2i.OSe"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-06 00:03:02.723007"], ["updated_at", "2024-04-06 00:03:02.723007"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$VREWsQziLypUOCZC7fwKnueMx4fLS3yKEcshai49JVGcyBw06Bwde"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:03:02.893499"], ["updated_at", "2024-04-06 00:03:02.893499"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$b1wPpIoUPYYS0Lk33tKTUudVYOpy4IoHqZ7b5oE60xg0EyRrWEL5y"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:03:03.069417"], ["updated_at", "2024-04-06 00:03:03.069417"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-06 00:03:03.071288"], ["updated_at", "2024-04-06 00:03:03.071288"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-06 03:03:03 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$ollUT0WuRaG6.u5Ab9MhYOOPmnAvHGRUdATMnU92CrHZIvEZax/OC"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-06 00:03:03.252446"], ["updated_at", "2024-04-06 00:03:03.252446"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$QfI628LbJk.fmaKYs7Eo/Oj0.VJ7UF7ZSXP7UiQS0O8ob56QTogQK"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:03:03.424266"], ["updated_at", "2024-04-06 00:03:03.424266"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$oz9F7h6YhS.P9tiaEwqqx.hGPlMKGUGsaIhOcG3meF/A7KF2P5/GS"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:03:03.594901"], ["updated_at", "2024-04-06 00:03:03.594901"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-06 00:03:03.596668"], ["updated_at", "2024-04-06 00:03:03.596668"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-06 03:03:03 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-06 03:03:03 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$iDwNBAtqIDXzfFCPdBuHa.Utpoy22.EYmKcO7YqaGFcGnSto4gO0q"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-06 00:03:04.098738"], ["updated_at", "2024-04-06 00:03:04.098738"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$ylqwvHpmJgWEjqUp4cJn2uTCyNhQEQMewER5Bp7TffxtLoPUK6306"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:03:04.266670"], ["updated_at", "2024-04-06 00:03:04.266670"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$yhOy9rN..u8D0nNVoze74ewgQnCmQYHszaXK1XcpLpEIIWqoQ1sca"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:03:04.435318"], ["updated_at", "2024-04-06 00:03:04.435318"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-06 00:03:04.437077"], ["updated_at", "2024-04-06 00:03:04.437077"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 03:03:04 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 307)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-06 03:03:04 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$DFMcBpQcyI6KYCi6XmVJdeFlmy.fSyVt3qSZsgUM63c4HvCogad7q"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-06 00:03:04.780922"], ["updated_at", "2024-04-06 00:03:04.780922"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$p7ICvhxlJyFcwiNU7DwhQunK8Nr40jqjoiA58DUru8GY3.scUwLqq"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:03:04.959438"], ["updated_at", "2024-04-06 00:03:04.959438"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$bc6Pb6HbYkmT6aOuscGIouiHQa4pDhMlGiNKMLXQi2RYsw8H4Rrxa"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:03:05.132470"], ["updated_at", "2024-04-06 00:03:05.132470"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-06 00:03:05.134472"], ["updated_at", "2024-04-06 00:03:05.134472"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-06 03:03:05 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$mrWoI6mKU0P5L5fPrXqjgeQLqwxlC9qadXPqv5DtLzRojbQ39zGTq"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-06 00:03:05.311473"], ["updated_at", "2024-04-06 00:03:05.311473"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$CNf3SOwYbxwULjlPJExuDe3oXa4V92TzZU51/aS2i8HTqdKFjW9cS"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:03:05.482314"], ["updated_at", "2024-04-06 00:03:05.482314"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$6xb1Spa8y4Yi3vbc9v2lGusXWC9BWCIQkTvhMJbMAKWELrlkXQHBC"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:03:05.654010"], ["updated_at", "2024-04-06 00:03:05.654010"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-06 00:03:05.655731"], ["updated_at", "2024-04-06 00:03:05.655731"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-06 03:03:05 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-06 03:03:05 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "participants"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "participants"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'participants';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Z9Kwox7bbaop80AjHe/Tz.K1iqa7keZ5lhJI.6wL6wwleG/RZJWWi"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-06 00:09:42.608403"], ["updated_at", "2024-04-06 00:09:42.608403"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$dbNytKEW9YkGMche/8iSx.5uiV8V4XGkL9aFcL6N1tGRqFxltiVou"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:09:42.786782"], ["updated_at", "2024-04-06 00:09:42.786782"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$X2IDYfRRuzbEu9zEV5lC2enVJfBRwMAx8DZHC.qdBZeiOlvBtcOym"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:09:42.959380"], ["updated_at", "2024-04-06 00:09:42.959380"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-06 00:09:42.998773"], ["updated_at", "2024-04-06 00:09:42.998773"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 03:09:43 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-06 00:09:43.197889"], ["updated_at", "2024-04-06 00:09:43.197889"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 15ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 4319)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$8f1ZP6zxc1mQMFJLiT1r1eC6ophRUHB8fToMlFunlZ6SqVLE6XcF."], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-06 00:09:43.379261"], ["updated_at", "2024-04-06 00:09:43.379261"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$RzJxw88Zt4oniJq/fmNDxuXica.Z1c97kSf2a2FmTrt1XsOyWL72u"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:09:43.562133"], ["updated_at", "2024-04-06 00:09:43.562133"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$r.Al56G9Gw43.1Y5ofYd/uJhlZgPalFEcBoea5uiwukTiwjjdchRS"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:09:43.742226"], ["updated_at", "2024-04-06 00:09:43.742226"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-06 00:09:43.743998"], ["updated_at", "2024-04-06 00:09:43.743998"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?id_teach=1" for 127.0.0.1 at 2024-04-06 03:09:43 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"id_teach"=>"1", "course"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" INNER JOIN "users" ON "users"."id" = "courses"."user_id" WHERE "courses"."user_id" = ? LIMIT ? OFFSET ?[0m  [["user_id", 1], ["LIMIT", 50], ["OFFSET", 0]]
Completed 200 OK in 8ms (Views: 0.8ms | ActiveRecord: 0.1ms | Allocations: 1912)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$DLQZBYYWnUU.sYiBf3VaDuv0K9T1eKRoWut4UtQ1s1iSrbrLHbzVK"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-06 00:09:44.116724"], ["updated_at", "2024-04-06 00:09:44.116724"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$W3yOoYakugqOkwLvpSO/nObQkRnHgUpw1gVgvinbCgx4QhR7Svs/W"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:09:44.286506"], ["updated_at", "2024-04-06 00:09:44.286506"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$3df/52EFN0DNrv8XGhCuC.rxyEfwB208qjSmWXei.oAoCrmLw1BUu"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:09:44.479056"], ["updated_at", "2024-04-06 00:09:44.479056"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-06 00:09:44.480968"], ["updated_at", "2024-04-06 00:09:44.480968"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-06 03:09:44 +0300
Processing by Api::SessionController#destroy as HTML
  Parameters: {"session"=>"session"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "jwt_validation" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["jwt_validation", "alymxwVwFQzmSzkRjUJYhEMSGqgEbBsX"], ["updated_at", "2024-04-06 00:09:44.663234"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1054)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 03:09:44 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 305)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$5.42hRAGf3reL2.WMgoIf.Q/7sfXsIZ1Mm9v4lWCniVaStA9hCknK"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-06 00:09:44.838169"], ["updated_at", "2024-04-06 00:09:44.838169"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$7cWCWb8RriHQSZaq7a1EAeFlrBTqwkkgN259u2PQp6q6mM31/s5hK"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:09:45.011872"], ["updated_at", "2024-04-06 00:09:45.011872"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$a8ORt5ZFmtT8u4TXXLT4G.cjLzljdWMEN8Dc04A7uzq9ytVs.A5Z."], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:09:45.185381"], ["updated_at", "2024-04-06 00:09:45.185381"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-06 00:09:45.187182"], ["updated_at", "2024-04-06 00:09:45.187182"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 03:09:45 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms | Allocations: 309)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-06 03:09:45 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 59)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$/oyzWD4eETZkaPIDIL2fGed79GoszySDVwgyXcNJxSIxQJeo2e3s."], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-06 00:09:45.538587"], ["updated_at", "2024-04-06 00:09:45.538587"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$IonH8okaP4qmJIqSLxJzjOgDVmiO02wx/9huCgcGKXVlAPCGyoASC"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:09:45.711707"], ["updated_at", "2024-04-06 00:09:45.711707"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$uHKhz12VbmSvqMt0BWEC2.0xKWaovQLNnvp.5P/M4NHFM6t8M0eie"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:09:45.886346"], ["updated_at", "2024-04-06 00:09:45.886346"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-06 00:09:45.888506"], ["updated_at", "2024-04-06 00:09:45.888506"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-06 03:09:45 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$4VihyHob40QXl6Sq7jn8y.6QiM1xyGqC4YXckEBqN.q1Mc7QkDxF."], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-06 00:09:46.067265"], ["updated_at", "2024-04-06 00:09:46.067265"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$9090c41h4rOfAB9QLPO5je3NC3rIradHT58nWGmhaijxDQABltktu"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:09:46.251255"], ["updated_at", "2024-04-06 00:09:46.251255"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$HhjRGT/IBQ2x8Ysqi2wZE.ydmsHBGbGyYtMzdQz6cdazv3lfF9haO"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:09:46.423924"], ["updated_at", "2024-04-06 00:09:46.423924"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-06 00:09:46.425742"], ["updated_at", "2024-04-06 00:09:46.425742"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-06 03:09:46 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-06 03:09:46 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$gd/AADTAsIar8GvuPpg4uuzoGtMCLW/RTJQbsL8Y/iclO1jXOXsTu"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-06 00:09:46.935030"], ["updated_at", "2024-04-06 00:09:46.935030"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$LFQotWKjiiIZc.Y2ogLSl..iORUA/fLN/U/Xl4H500PXH6wikZo8y"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:09:47.103930"], ["updated_at", "2024-04-06 00:09:47.103930"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$sh3ZHe.TweIuQD6xuixzMeQHU0Y78DPB27azgEg5XzYh63GR1oUN."], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:09:47.273853"], ["updated_at", "2024-04-06 00:09:47.273853"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-06 00:09:47.276285"], ["updated_at", "2024-04-06 00:09:47.276285"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 03:09:47 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 307)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-06 03:09:47 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$z8FjxVIiCy.6kGS7dCZmJO4qokcjXngV2FwoWTqrK7FZgg4VR3dcq"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-06 00:09:47.626025"], ["updated_at", "2024-04-06 00:09:47.626025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$qs7/Z30s9T52QAZZSY3w1OIxH3DK24looO.mwY65uMF4R/5tcQ1Ee"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:09:47.795263"], ["updated_at", "2024-04-06 00:09:47.795263"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$FhqnxfrYZmP.KaKN7ncnkuU.u8sgnEF8aCrLYowFj.b9cm8Gqvpva"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:09:47.964092"], ["updated_at", "2024-04-06 00:09:47.964092"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-06 00:09:47.965836"], ["updated_at", "2024-04-06 00:09:47.965836"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-06 03:09:47 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$0LoXdY3sugzR8LhuyReJ3.hKD0mCAA0/eERJmnh8K8mzA5FqdHnmq"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-06 00:09:48.142906"], ["updated_at", "2024-04-06 00:09:48.142906"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$ofH.nJ1YDWgs.RYG2pgDw.tbTTUJGu0hxeh3X48dtUfguocxsMVuq"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:09:48.311868"], ["updated_at", "2024-04-06 00:09:48.311868"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$VjQ76Y47eKy9F9ksqrh2g.EW0.gLv93tzTfPem.6qdIyxTvXAtihi"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:09:48.483970"], ["updated_at", "2024-04-06 00:09:48.483970"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-06 00:09:48.485988"], ["updated_at", "2024-04-06 00:09:48.485988"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-06 03:09:48 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-06 03:09:48 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "participants"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "participants"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'participants';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$LnM1YpRr3fn7J0TteNQSYuI4wuzSnvVftNZvnftepXZWYzz6MAe1e"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-06 00:10:41.085669"], ["updated_at", "2024-04-06 00:10:41.085669"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$iV4vUAEe5SQuHm1chKY8w.6ohp3oR1LuElzbEBB.g8vxCREI25wIq"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:10:41.257380"], ["updated_at", "2024-04-06 00:10:41.257380"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$B1ZLsPe3FurkiI8k00m1AuA2hVxMQj9eYfCV4MBauV4.W5pn8cHY2"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:10:41.428818"], ["updated_at", "2024-04-06 00:10:41.428818"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-06 00:10:41.464310"], ["updated_at", "2024-04-06 00:10:41.464310"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 03:10:41 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-06 00:10:41.665024"], ["updated_at", "2024-04-06 00:10:41.665024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 14ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 4319)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$IeIw2Fqp4PFGf8fp7vk1oezOZXvPr9bChSctab/zETzHVqqQKr3Qi"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-06 00:10:41.849187"], ["updated_at", "2024-04-06 00:10:41.849187"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$T6dn4XZBKHHAP2pl2NfUWuOAlJsFHfEAggS2/9V//Bzt/2kvsDmta"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:10:42.019577"], ["updated_at", "2024-04-06 00:10:42.019577"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$GyJd22l6V..KzC2MbGhO9.lVmVY8/PjXkg8TQxkmBC7lgcYYTFRWq"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:10:42.190974"], ["updated_at", "2024-04-06 00:10:42.190974"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-06 00:10:42.192907"], ["updated_at", "2024-04-06 00:10:42.192907"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?id_teach=1" for 127.0.0.1 at 2024-04-06 03:10:42 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"id_teach"=>"1", "course"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "user"."fio" FROM "courses" INNER JOIN "users" ON "users"."id" = "courses"."user_id" WHERE "courses"."user_id" = ? LIMIT ? OFFSET ?[0m  [["user_id", 1], ["LIMIT", 50], ["OFFSET", 0]]
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.2ms | Allocations: 1912)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$ja823KKiU0fE7qKPVrstUeQZHOMAj2zoLfBUB.228Kez7Vc.q/YAO"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-06 00:10:42.543792"], ["updated_at", "2024-04-06 00:10:42.543792"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$FMEqR.IO5LIt3aKKUxs5qOyA31D98FkOSiqOnQYUod8Ii5ZYpxQAW"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:10:42.714433"], ["updated_at", "2024-04-06 00:10:42.714433"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$rfYfzJNhKaakZ8eerghmsuInzA8hWqQqbIhH.9iYU5baJixbbBpOa"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:10:42.908092"], ["updated_at", "2024-04-06 00:10:42.908092"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-06 00:10:42.909876"], ["updated_at", "2024-04-06 00:10:42.909876"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-06 03:10:43 +0300
Processing by Api::SessionController#destroy as HTML
  Parameters: {"session"=>"session"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "jwt_validation" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["jwt_validation", "MBthkvKykKLlySrQeCLzaTVRTUrqcsiC"], ["updated_at", "2024-04-06 00:10:43.106668"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1075)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 03:10:43 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 305)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$p35q2wtZ/yrO876D60b42u3hdzvXnqoVpoUxwLZeChbl.sh1tCVHq"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-06 00:10:43.289645"], ["updated_at", "2024-04-06 00:10:43.289645"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$7w/aNZMQNKS/5AxduhqXM.mCKF8YvHH2GIJ/6Qe/UkizEz30d86Ry"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:10:43.460876"], ["updated_at", "2024-04-06 00:10:43.460876"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$mIhZHrykGCUH.lvzUa1WIe7EYMoyEjUGufFzrobIvbjEKBPL2lA9e"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:10:43.628211"], ["updated_at", "2024-04-06 00:10:43.628211"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-06 00:10:43.630323"], ["updated_at", "2024-04-06 00:10:43.630323"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 03:10:43 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 309)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-06 03:10:43 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 59)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$dUyFroC6oe4cxVUh8NDDDe7dxEK7WudVZUnV7Oycfbuq1j0hZivay"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-06 00:10:43.990427"], ["updated_at", "2024-04-06 00:10:43.990427"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$atLFqaPK85jgwukJtqCWZerRYJyBY4Lf5PlhRIOeusPX.5vpPpnN."], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:10:44.165048"], ["updated_at", "2024-04-06 00:10:44.165048"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$rrL/seS6.esvdcOeicStLOVAVDZ0w2o4J1LGmT/bTjlNSO.uK2Kk."], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:10:44.336296"], ["updated_at", "2024-04-06 00:10:44.336296"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-06 00:10:44.338608"], ["updated_at", "2024-04-06 00:10:44.338608"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-06 03:10:44 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$5X5nvEMP51Bwdh67Cv9Qsuh/3TCV6bVPlJsU6ec/PTIMhQ5lMHyr6"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-06 00:10:44.512797"], ["updated_at", "2024-04-06 00:10:44.512797"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$Vnbj5Sa07I.wA1Hreergcuy1ce3FAbrox4UBkD7AsT9b2OuVP6GNK"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:10:44.681447"], ["updated_at", "2024-04-06 00:10:44.681447"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$FrZY9jwzg18CLY/ho4LAhOusBsPKjbVuG75HNOExlicOk8.PXLxGu"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:10:44.848125"], ["updated_at", "2024-04-06 00:10:44.848125"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-06 00:10:44.849817"], ["updated_at", "2024-04-06 00:10:44.849817"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-06 03:10:45 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-06 03:10:45 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$C.XgSdY0N4wNRWQHrn/In.3YBsW3kyGPWMjAGOtAMOoa65avOqtD."], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-06 00:10:45.384035"], ["updated_at", "2024-04-06 00:10:45.384035"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$w7JbbSRP.YoOyyUx6aoNVON7oXB2yVsyYkKcwa1QbLN/Al7od4ySe"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:10:45.557440"], ["updated_at", "2024-04-06 00:10:45.557440"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$PeB/YXa0vopG7.GyhhJFD.Yuxd/QabpwU0Yy2rGMqZl0CU58zQXLe"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:10:45.731456"], ["updated_at", "2024-04-06 00:10:45.731456"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-06 00:10:45.733042"], ["updated_at", "2024-04-06 00:10:45.733042"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 03:10:45 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms | Allocations: 307)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-06 03:10:45 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$S3KYJiqD61bDEXW2ZBKqluYWKMDYkYIs1mwkRzVXCyuR65zpGLtQq"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-06 00:10:46.086913"], ["updated_at", "2024-04-06 00:10:46.086913"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$ZqenB2INSgzD32Wp92W/n.osCv73iGK81KXSDEa7x7nCcJDhW7Boq"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:10:46.259583"], ["updated_at", "2024-04-06 00:10:46.259583"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$l2rhckOk7YNKWu5P.T7QredW5.aWG.RPOdJ42m3kspXtupADeoZx."], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:10:46.436256"], ["updated_at", "2024-04-06 00:10:46.436256"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-06 00:10:46.439414"], ["updated_at", "2024-04-06 00:10:46.439414"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-06 03:10:46 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$gTzyzfRStmiRv9fGzJReoO5nMzHXLRrLJWhY./TFIfmcRWfgeJ3m2"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-06 00:10:46.630041"], ["updated_at", "2024-04-06 00:10:46.630041"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$FVa8QcevGfZVahK330KdtunvIQSAGR7Op639eBBGoZ9gnNFNFShx."], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:10:46.808190"], ["updated_at", "2024-04-06 00:10:46.808190"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$uSe.VII2HdC4.wR0mr.tG.j.vhaK/EvcOLeN3fuy3/ke5geHhoGdS"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:10:46.989404"], ["updated_at", "2024-04-06 00:10:46.989404"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-06 00:10:46.991272"], ["updated_at", "2024-04-06 00:10:46.991272"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-06 03:10:47 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-06 03:10:47 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "participants"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "participants"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'participants';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$PJYGU.7Z810zkOb6QEJCCu5O4Z1gQkWrzBTK6rqbFnA68JK.DQVbW"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-06 00:11:00.179598"], ["updated_at", "2024-04-06 00:11:00.179598"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$eGQr.KU.ENifutaqln5ShO2Pe.oUeAEFJ40RQ5XpT4oKZ7jeooTsa"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:11:00.415481"], ["updated_at", "2024-04-06 00:11:00.415481"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$kozhK3VBkp5dAqp8gTkjKenSEIKcKy4oHVEzAIjMsdQWSmbTiJ2Ui"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:11:00.671435"], ["updated_at", "2024-04-06 00:11:00.671435"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-06 00:11:00.716712"], ["updated_at", "2024-04-06 00:11:00.716712"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 03:11:01 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (20.9ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-06 00:11:01.118829"], ["updated_at", "2024-04-06 00:11:01.118829"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 48ms (Views: 0.3ms | ActiveRecord: 21.2ms | Allocations: 4319)
  [1m[36mCourse Load (0.6ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$qGNuCcZ.0wQLTMPir36qxe48.FCOXX1yNiYhzYj6WMdrgvYCoXNUG"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-06 00:11:01.356225"], ["updated_at", "2024-04-06 00:11:01.356225"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$HMgaSsRYDj9yx8RD9vM.o.r.5AzL/CbPbGy9x1OqP4cXaWgzx3tJS"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:11:01.540725"], ["updated_at", "2024-04-06 00:11:01.540725"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$ahdkB8jdIQyMSfjEXnBdrOm4l0IzxA7mLBrXPYiWsB1E86Txu.XyW"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:11:01.728736"], ["updated_at", "2024-04-06 00:11:01.728736"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-06 00:11:01.730475"], ["updated_at", "2024-04-06 00:11:01.730475"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?id_teach=1" for 127.0.0.1 at 2024-04-06 03:11:01 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"id_teach"=>"1", "course"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "users"."fio" FROM "courses" INNER JOIN "users" ON "users"."id" = "courses"."user_id" WHERE "courses"."user_id" = ? LIMIT ? OFFSET ?[0m  [["user_id", 1], ["LIMIT", 50], ["OFFSET", 0]]
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 1940)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$pKoR4bfO6b2vitzfBsl01.I3uJKo87ABtpV1PHVV0pxIBWAxaWOqq"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-06 00:11:02.115651"], ["updated_at", "2024-04-06 00:11:02.115651"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$b53ZLu/ZUbHRxPeaWM23gOJIB5bTOBbfVsHQvp4NXEUtDde3um036"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:11:02.295107"], ["updated_at", "2024-04-06 00:11:02.295107"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$/Dl5s2g8lQ02alvQ3lRJQeC6PHtAGEGeJy5rQkYM4zvaRKgmKQ8NO"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:11:02.472917"], ["updated_at", "2024-04-06 00:11:02.472917"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-06 00:11:02.475621"], ["updated_at", "2024-04-06 00:11:02.475621"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-06 03:11:02 +0300
Processing by Api::SessionController#destroy as HTML
  Parameters: {"session"=>"session"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "jwt_validation" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["jwt_validation", "rPfMBBPoelBvpnCZlvwqrBqlNTvFTnBh"], ["updated_at", "2024-04-06 00:11:02.661318"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1069)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 03:11:02 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 305)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$jWZRXBoQ06DDhJA74OA2l.dGfaAeEDyKFQWqN9dQ9QPpj64PvDcXW"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-06 00:11:02.859957"], ["updated_at", "2024-04-06 00:11:02.859957"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$cdnSRRwry.DYrbp/KG8NYeG7RBncg7vqMRq5UKIvTQRxQb7TFMC3i"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:11:03.035988"], ["updated_at", "2024-04-06 00:11:03.035988"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$caVd1m.1xDjMxna1yq9rfOa5qSYciLFRx8irFpJ0JYTISivxDzgte"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:11:03.216923"], ["updated_at", "2024-04-06 00:11:03.216923"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-06 00:11:03.218794"], ["updated_at", "2024-04-06 00:11:03.218794"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 03:11:03 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 309)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-06 03:11:03 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 59)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$1N1n6EitfhSfFpMW4FEq7eMDcfvp64.aVVGgvitOJivJa4Q6Bcb1a"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-06 00:11:03.587631"], ["updated_at", "2024-04-06 00:11:03.587631"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$OmLobufiwZa2mi9co6gFV.5ocVR5NA8CochFlQJLeDQrFZEq2oKTq"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:11:03.766138"], ["updated_at", "2024-04-06 00:11:03.766138"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$L2x1G9XFukLBhYOAKMLUqOKeUSqn8osLRiuEJYOMlw7BrsCdIzxqy"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:11:03.943147"], ["updated_at", "2024-04-06 00:11:03.943147"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-06 00:11:03.944953"], ["updated_at", "2024-04-06 00:11:03.944953"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-06 03:11:03 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$7YDUq41AA6VKt.jmgsv5iOjhUmnm4IcccAbnB611bQQbU3nK7d4iy"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-06 00:11:04.135016"], ["updated_at", "2024-04-06 00:11:04.135016"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$yX6zMqD/MGW1tRP4W8.hLOAvehKKeSCZ8szBtDWjQAgWCcOlPMI3O"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:11:04.313395"], ["updated_at", "2024-04-06 00:11:04.313395"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$3zJX9GCyp.KQbKMr7KGq1ut4ysQzacpKOrDohXyiOp87bLEdZZ3sm"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:11:04.491766"], ["updated_at", "2024-04-06 00:11:04.491766"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-06 00:11:04.493833"], ["updated_at", "2024-04-06 00:11:04.493833"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-06 03:11:04 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-06 03:11:04 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$XmGm3kovKHFcGXOeyKNVD.xVqpvFSAxJ58IpXdqQID7rIUGQRuUOG"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-06 00:11:05.045574"], ["updated_at", "2024-04-06 00:11:05.045574"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$bbkJNoo//ktyNmb0FApbJ.nirFi88rq46VTYd9dpa4vGiv4kPREi6"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:11:05.231623"], ["updated_at", "2024-04-06 00:11:05.231623"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$b66SnmdA/kDeE7sfuCg3zOoiq8KDaBnr51NDZ2GrlMxznhvMiJy3G"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:11:05.411161"], ["updated_at", "2024-04-06 00:11:05.411161"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-06 00:11:05.412923"], ["updated_at", "2024-04-06 00:11:05.412923"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 03:11:05 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 307)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-06 03:11:05 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$FTFJwq3Y9ybz1yIDgEJcbOqsxD9hUhIpbgDdJ9kleK4RtVdUreSAW"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-06 00:11:05.777744"], ["updated_at", "2024-04-06 00:11:05.777744"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$kGdpdjMkOa1S1g4Vr71vHe/GEVHg0742el9qQxRcdjvtpXCDY04bG"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:11:05.949343"], ["updated_at", "2024-04-06 00:11:05.949343"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$PKuTJ6qvRzStdF/C1RG5g.eIVAcT3WOOGrm.XSjp.hvhaskPlIUHq"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:11:06.128024"], ["updated_at", "2024-04-06 00:11:06.128024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-06 00:11:06.129699"], ["updated_at", "2024-04-06 00:11:06.129699"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-06 03:11:06 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$2okJ7xF/asEhsZ6lCB4EhO2WsUXEUilxEdb0kJ0t3MLgkHb8Rq/U."], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-06 00:11:06.320286"], ["updated_at", "2024-04-06 00:11:06.320286"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$IRA5ocUSCGHxR3srldaPue2R367XB7g2br33gnGa7Me0n1D0wD/Nm"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:11:06.502991"], ["updated_at", "2024-04-06 00:11:06.502991"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$NuuaLLTSDcwEFnZ84GOSwuWH9Hfv0w7GyCtjepII8tknix85z97tW"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:11:06.678219"], ["updated_at", "2024-04-06 00:11:06.678219"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-06 00:11:06.679913"], ["updated_at", "2024-04-06 00:11:06.679913"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-06 03:11:06 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-06 03:11:06 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "participants"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "participants"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'participants';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$1vF.lTzH.u.tLaJVszduguRt8R1u3HajtnSKnJB6j5bIZgfk9996S"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-06 00:12:39.235254"], ["updated_at", "2024-04-06 00:12:39.235254"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$tavFT4XVOMQKWsl/BNA.du/PP4xiuK13hxqjEgd4ZQBTJRmj/GWNa"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:12:39.415478"], ["updated_at", "2024-04-06 00:12:39.415478"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$YOqVdocS4qfbLVXyAU3H/udIWuDPwDf1uoauA.zFRnveKDvygzBNe"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:12:39.584298"], ["updated_at", "2024-04-06 00:12:39.584298"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-06 00:12:39.621245"], ["updated_at", "2024-04-06 00:12:39.621245"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 03:12:39 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-06 00:12:39.813839"], ["updated_at", "2024-04-06 00:12:39.813839"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 15ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 4319)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Wp9zQye0PKWjaEFXd9L5TuVJA7vtaJTj5SRNZJ3P/jPCvvQuOn1d2"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-06 00:12:40.001552"], ["updated_at", "2024-04-06 00:12:40.001552"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$uv3Vm94eTDtVd9KaQVLzluUKelYZumazCkQB1i.jiKpoLM0naLhrG"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:12:40.176561"], ["updated_at", "2024-04-06 00:12:40.176561"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$LjTctiBY.sQZpvD.bpH6o.E4Aoi64BVC6u1N8yJREEY3gi2uXs/3m"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:12:40.344551"], ["updated_at", "2024-04-06 00:12:40.344551"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-06 00:12:40.346300"], ["updated_at", "2024-04-06 00:12:40.346300"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?id_teach=1" for 127.0.0.1 at 2024-04-06 03:12:40 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"id_teach"=>"1", "course"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT users.fio, courses.title, courses.description FROM "courses" INNER JOIN "users" ON "users"."id" = "courses"."user_id" WHERE "courses"."user_id" = ? LIMIT ? OFFSET ?[0m  [["user_id", 1], ["LIMIT", 50], ["OFFSET", 0]]
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 1940)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Shoy.kv6TZWUOrrxl7FuUOtjPI7ByDMUoYIE64Rf7hbi63Tg/aId2"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-06 00:12:40.725462"], ["updated_at", "2024-04-06 00:12:40.725462"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$Gulr7Bi2uLtYlrdzRREayu190OW8m1yzQ/kUi5XIqrWswQq2CELwa"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:12:40.897952"], ["updated_at", "2024-04-06 00:12:40.897952"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$j8t8.PSdNxi57rZG.UrxxutESWEVyuS9Ge1rLSSIB56jNWXwttIGe"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:12:41.092262"], ["updated_at", "2024-04-06 00:12:41.092262"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-06 00:12:41.094074"], ["updated_at", "2024-04-06 00:12:41.094074"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-06 03:12:41 +0300
Processing by Api::SessionController#destroy as HTML
  Parameters: {"session"=>"session"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "jwt_validation" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["jwt_validation", "bveZHhuhSSyzwBaZwDhMbTWFJAHfhuER"], ["updated_at", "2024-04-06 00:12:41.285102"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1069)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 03:12:41 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 305)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$/hL2iKVAJErWM5QuB3DYXOzNk9kYbqT9ESfaJ8ytHDsoLd89XkQbe"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-06 00:12:41.472987"], ["updated_at", "2024-04-06 00:12:41.472987"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$caNzxECpybrUhyZweGJtxOAmhuOuBoBiZDMGjF5Nzq6ygrXA0L8nC"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:12:41.655965"], ["updated_at", "2024-04-06 00:12:41.655965"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$iA7k0IPyRTX8t2jtT0SxXebqgyRmaQqR.3hDM4YqKzKCh91p4mnPu"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:12:41.829990"], ["updated_at", "2024-04-06 00:12:41.829990"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-06 00:12:41.831675"], ["updated_at", "2024-04-06 00:12:41.831675"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 03:12:42 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 309)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-06 03:12:42 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 59)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$xy9d04RwuXTS8Mrn2U61ReCzkpnGqwbmLrZGtJK0v/qm23DJWW8/G"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-06 00:12:42.179931"], ["updated_at", "2024-04-06 00:12:42.179931"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$mGcLxZFVsslBWZ160kr24OBV17Zo6yTNZrTIylUlMapBx6feTAUK6"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:12:42.351122"], ["updated_at", "2024-04-06 00:12:42.351122"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$UELUsuKzcrygMC9PR4QZC.GRgyVkPov56LfSaknPzK1EZ5rPOuYXa"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:12:42.522181"], ["updated_at", "2024-04-06 00:12:42.522181"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-06 00:12:42.523930"], ["updated_at", "2024-04-06 00:12:42.523930"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-06 03:12:42 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$NHGuIazQMuURz7L4qtcZpOxSD39mCPd8Qgh5AvUiGoJOjhYOjjh0u"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-06 00:12:42.700203"], ["updated_at", "2024-04-06 00:12:42.700203"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$mZAVmx228hG85GGL0MidEuRClbJQC/wPu2/O0ByB2rBWgPsB6vUKK"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:12:42.874111"], ["updated_at", "2024-04-06 00:12:42.874111"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$76ugtgIOAZmGrV3Q2lszrOlTqPcrLGDvVnrVdpNcH/2SqhwHq.bR."], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:12:43.042284"], ["updated_at", "2024-04-06 00:12:43.042284"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-06 00:12:43.044058"], ["updated_at", "2024-04-06 00:12:43.044058"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-06 03:12:43 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-06 03:12:43 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$Ug6nWrD9iGLhwioD0oxSs.LrFTUaTY4D.fuKJAKzakIrFZBFvLB.W"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-06 00:12:43.577781"], ["updated_at", "2024-04-06 00:12:43.577781"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$f3.Hy/r7lsFtPgejkj5a3.mIfxI/GI9Ww8Bu5BB2Ff1G1zUAdGKLq"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:12:43.745230"], ["updated_at", "2024-04-06 00:12:43.745230"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$hkAKmHlzu6Vj6Q6Qc4eooOxE/1.c22eEW9RUP7AJDw3uJP8Nat3wW"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:12:43.918199"], ["updated_at", "2024-04-06 00:12:43.918199"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-06 00:12:43.920073"], ["updated_at", "2024-04-06 00:12:43.920073"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 03:12:44 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 307)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-06 03:12:44 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$P590HCs/YOGuQsKtfdOt3u9rnAYnSc/j3/mhUvYE9YzgObPzgM8.i"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-06 00:12:44.273308"], ["updated_at", "2024-04-06 00:12:44.273308"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$yw.XLwm3rb3mw.Hjf8SaXOmCFtNm/f1eJd5DJxxnI0EcARh3Q2632"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:12:44.440965"], ["updated_at", "2024-04-06 00:12:44.440965"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$FIf4.9F3KdiKyO2rt/IiTOvUk0Qg8PS6VMt1YOodUsCAQv4vxlzlC"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:12:44.608579"], ["updated_at", "2024-04-06 00:12:44.608579"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-06 00:12:44.610298"], ["updated_at", "2024-04-06 00:12:44.610298"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-06 03:12:44 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$GrXt6Cxwc7ECx8wwz5lt5uObuzz2gV3J.PlgiNT5tL7Kr6tn0xUuK"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-06 00:12:44.784888"], ["updated_at", "2024-04-06 00:12:44.784888"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$gDG8.vt/9cJt25fTmAl0eeGPWMYYdj2r2UCLd6QDGimkxmVyouz3C"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:12:44.957353"], ["updated_at", "2024-04-06 00:12:44.957353"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$EFKavexsOthPrIvFLslOseEVxqIMX0mxEw7o.nFeZWqRuG3Nl4MIi"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 00:12:45.130583"], ["updated_at", "2024-04-06 00:12:45.130583"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-06 00:12:45.132532"], ["updated_at", "2024-04-06 00:12:45.132532"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-06 03:12:45 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-06 03:12:45 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'courses';[0m
  [1m[35m (0.0ms)[0m  [1m[35mTRUNCATE TABLE "participants"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "participants"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'participants';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$am0bq3eEhqQkCnJK1eOQSOLq6Sic8r4zRFx5Zrn7AdC7WVjnjI1qW"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-06 10:39:39.257616"], ["updated_at", "2024-04-06 10:39:39.257616"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$xgygkyXUOjyG8AYdNjCSHOn551uVgiOSD9ki10wDHlXEZCNzYUDHu"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 10:39:39.424207"], ["updated_at", "2024-04-06 10:39:39.424207"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$W2Huood.e6XEN4pTE547V.YMLdgYZKcV41O3x554gOXCDcuSFPuIa"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 10:39:39.595003"], ["updated_at", "2024-04-06 10:39:39.595003"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-06 10:39:39.758978"], ["updated_at", "2024-04-06 10:39:39.758978"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 13:39:39 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-06 10:39:40.049721"], ["updated_at", "2024-04-06 10:39:40.049721"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 83ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 4320)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$zlJdyucWhGGjCl9Z1eMb0OkX2e8vKAienwgv.7EaGrns.IvIM.cn."], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-06 10:39:40.263883"], ["updated_at", "2024-04-06 10:39:40.263883"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$1vLh4NaMfwBQ/F3DzJ7B/.kW9a.oG5bS7AtOpPv.783YkauXQv/h."], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 10:39:40.432769"], ["updated_at", "2024-04-06 10:39:40.432769"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$kMtdGB0aZMiCf1H68gpBrehp3ZV87wrTWflynFqPgAtKarcTq2VA2"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 10:39:40.605146"], ["updated_at", "2024-04-06 10:39:40.605146"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-06 10:39:40.606880"], ["updated_at", "2024-04-06 10:39:40.606880"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?id_teach=1" for 127.0.0.1 at 2024-04-06 13:39:40 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"id_teach"=>"1", "course"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT users.fio, courses.title, courses.description, courses.id FROM "courses" INNER JOIN "users" ON "users"."id" = "courses"."user_id" WHERE "courses"."user_id" = ? LIMIT ? OFFSET ?[0m  [["user_id", 1], ["LIMIT", 50], ["OFFSET", 0]]
Completed 200 OK in 45ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 1949)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (1.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$bfPplqvwM.s970m6vJ8jn.CGnR9nTnw6dVzEmZbmxGtC3Kjgb3NKq"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-06 10:39:41.111571"], ["updated_at", "2024-04-06 10:39:41.111571"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$HzC2cYnrflAUQtz24cz6TOmi9wc6c7yS7gIwjrGRVgktw7p076K4m"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 10:39:41.303044"], ["updated_at", "2024-04-06 10:39:41.303044"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$MNKSu4.Wtp6F59dqkbAtt.0NIePiysirBz3K7wc4uLZzNAO2KWXoO"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 10:39:41.474511"], ["updated_at", "2024-04-06 10:39:41.474511"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-06 10:39:41.476316"], ["updated_at", "2024-04-06 10:39:41.476316"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started DELETE "/api/session" for 127.0.0.1 at 2024-04-06 13:39:41 +0300
Processing by Api::SessionController#destroy as HTML
  Parameters: {"session"=>"session"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "jwt_validation" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["jwt_validation", "neusfbDzRUmNmRkXxILHoluGszwKPQdf"], ["updated_at", "2024-04-06 10:39:41.691338"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1074)
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 13:39:41 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 305)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$pKM5cTU0KukF0Ai/SgfGt..gI5vUaBirFvgWcVqRQH6HIK6/JBdFO"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-06 10:39:41.867356"], ["updated_at", "2024-04-06 10:39:41.867356"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$rrcDMinUj.zqGFqJ/ix4ROQIERLmAjCteQaEax8P5cPbSuFq423PK"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 10:39:42.038991"], ["updated_at", "2024-04-06 10:39:42.038991"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$cc5pDjSlLuqLGnGIqjL4G.4c0g9D.acGgxkJuz6Jzd08uQgco83eu"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 10:39:42.207611"], ["updated_at", "2024-04-06 10:39:42.207611"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-06 10:39:42.209448"], ["updated_at", "2024-04-06 10:39:42.209448"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 13:39:42 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 309)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-06 13:39:42 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 59)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$R50CSqiVjrQZVyzQmOZbk.h2mU9XJDJau9xSE21iDylowxhOKpeXC"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-06 10:39:42.562494"], ["updated_at", "2024-04-06 10:39:42.562494"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$3RrAq0IydDF5Uaimc46VMuIBs.tvH525YV5smxdAaUmyeaxQT5wfC"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 10:39:42.731607"], ["updated_at", "2024-04-06 10:39:42.731607"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$JjCnyIGZ9AK7tUE37PvQCubIjhSWMX.n.OPiZ9TCP4U1tPw/nUS.G"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 10:39:42.898893"], ["updated_at", "2024-04-06 10:39:42.898893"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-06 10:39:42.900522"], ["updated_at", "2024-04-06 10:39:42.900522"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-06 13:39:42 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$hLrpPDfJgOr4Ih0bcmbd/useJieYum0n2xL7M3b2GjPL1UOib1Dfe"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-06 10:39:43.076011"], ["updated_at", "2024-04-06 10:39:43.076011"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$z.xSgVFUmj5uj4RD5AL8NeoPb0o7MbPMSjNbcm4N2gU15v3gmp1PC"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 10:39:43.243725"], ["updated_at", "2024-04-06 10:39:43.243725"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$2dnmMV7NnOYmVsZdBC/K6ur0yCYRXMSIjoD6NsYxtxd6tXq/Feicq"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 10:39:43.410054"], ["updated_at", "2024-04-06 10:39:43.410054"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-06 10:39:43.411771"], ["updated_at", "2024-04-06 10:39:43.411771"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-06 13:39:43 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=2" for 127.0.0.1 at 2024-04-06 13:39:43 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"2"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$7F/bvnDboCNeGTezPKqiCOKNJc2ijvtR8weVwGKnuLV2C5xaakvjS"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-06 10:39:44.163882"], ["updated_at", "2024-04-06 10:39:44.163882"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$ipGyjcD3nLNwoTh7OzbVM.0Ggm3vTG8ofWRIkundtrvT5OM56vTFS"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 10:39:44.329496"], ["updated_at", "2024-04-06 10:39:44.329496"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$UNkc.WbUGP1iZlQ3LoS2UO9ubDitfO75wb/XizU9YIT4R.VtC4oDu"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 10:39:44.494513"], ["updated_at", "2024-04-06 10:39:44.494513"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-06 10:39:44.496865"], ["updated_at", "2024-04-06 10:39:44.496865"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/courses" for 127.0.0.1 at 2024-04-06 13:39:44 +0300
Processing by Api::CoursesController#create as HTML
  Parameters: {"course"=>{"title"=>"Math", "description"=>"Nice subject"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? AND "users"."jwt_validation" IS NULL LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 403 Forbidden in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 307)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started GET "/api/courses" for 127.0.0.1 at 2024-04-06 13:39:44 +0300
Processing by Api::CoursesController#index as HTML
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$L4wBRW.y9i8ZXPCxFd5zbuJHbkxoGaiuQzb7tnvJbhL7bHluF6.tm"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-06 10:39:44.847815"], ["updated_at", "2024-04-06 10:39:44.847815"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$XDr.5hbLY1WxqVsR5ba4ju4UN/DNWOXdbuvfN6EFc2gcHY5e8.4eO"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 10:39:45.023136"], ["updated_at", "2024-04-06 10:39:45.023136"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$oOzWoVM6ePWu3e8n9N9zf.EAD7iwI/vpJd4ykq9NtEjs1n4qDMRTS"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 10:39:45.189002"], ["updated_at", "2024-04-06 10:39:45.189002"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-06 10:39:45.190823"], ["updated_at", "2024-04-06 10:39:45.190823"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-06 13:39:45 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Учитель1"], ["email", "email_teacher1@mail.ru"], ["password", "$2a$12$cdRkOp1g6W8qusCHYhN8AeYaC5dtLsgCW2QIFWgAuJfXWH8nmW95e"], ["teacher", 1], ["jwt_validation", nil], ["created_at", "2024-04-06 10:39:45.364356"], ["updated_at", "2024-04-06 10:39:45.364356"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик1"], ["email", "email_student1@mail.ru"], ["password", "$2a$12$7IpgUAj7pW/UedYWJ8V6Cu6VsmIlZi1VoRmdvXH6cDTH1tN8alzB6"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 10:39:45.532706"], ["updated_at", "2024-04-06 10:39:45.532706"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("fio", "email", "password", "teacher", "jwt_validation", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["fio", "Ученик2"], ["email", "email_student2@mail.ru"], ["password", "$2a$12$mxMqkCtM6hKvS/GCbXXqaeDjdqM55LN0jzfYiQCRvFzmQmjP.O3Fi"], ["teacher", 0], ["jwt_validation", nil], ["created_at", "2024-04-06 10:39:45.699110"], ["updated_at", "2024-04-06 10:39:45.699110"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "Math"], ["description", "Nice subject"], ["user_id", 1], ["created_at", "2024-04-06 10:39:45.701041"], ["updated_at", "2024-04-06 10:39:45.701041"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
Started POST "/api/cources/4/subscribe" for 127.0.0.1 at 2024-04-06 13:39:45 +0300
  
ActionController::RoutingError (No route matches [POST] "/api/cources/4/subscribe"):
  
Started GET "/api/courses?student_id=3" for 127.0.0.1 at 2024-04-06 13:39:46 +0300
Processing by Api::CoursesController#index as HTML
  Parameters: {"student_id"=>"3"}
Filter chain halted as :check_auth rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 58)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
